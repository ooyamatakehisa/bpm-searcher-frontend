{"version":3,"sources":["SearchBox.js","SearchResult.js","Header.js","Waiting.js","SongDetail.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","theme","root","padding","display","alignItems","width","height","input","marginLeft","spacing","flex","iconButton","divider","margin","SearchBox","props","classes","history","useHistory","Grid","container","direction","justifyContent","Box","p","Paper","component","className","InputBase","placeholder","inputProps","value","searchValue","onChange","e","setSearchValue","target","IconButton","type","onClick","push","pathname","search","preventDefault","setIsSearched","setResult","params","query_params","URLSearchParams","fetch","method","headers","then","response","json","data","console","log","row","cursor","backgroundColor","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","result","map","path","handleLink","song_name","src","image_url","Typography","artist","bpm","grow","flexGrow","menuButton","marginRight","title","breakpoints","up","logo","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","PrimarySearchAppBar","onClickAppBar","reset","AppBar","position","Toolbar","pr","variant","noWrap","window","open","Waiting","CircularProgress","SongDetail","useLocation","state","album_name","key","controls","preview_url","createTheme","palette","primary","main","contrastText","App","useState","isSearched","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2c601506.chunk.js","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        padding: '2px 4px',\n        display: 'flex',\n        alignItems: 'center',\n        width: \"65vw\",\n        height: 55,\n    },\n    input: {\n        marginLeft: theme.spacing(1),\n        flex: 1,\n    },\n    iconButton: {\n        padding: 10,\n    },\n    divider: {\n        height: 28,\n        margin: 4,\n    },\n}));\n\nexport default function SearchBox(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const handleSearchInputChanges = (e) => {\n        props.setSearchValue(e.target.value);\n    }\n\n\n    const getBpms = (e) => {\n        history.push({\n            pathname: \"/\",\n            search:  '?search=' + props.searchValue\n        })\n        e.preventDefault()\n        props.setIsSearched(true)\n        props.setResult(null)\n        const params = { // 渡したいパラメータをJSON形式で書く\n            search: props.searchValue\n        };\n        const query_params = new URLSearchParams(params)\n        const requestOptions = {\n            method: 'GET',\n            headers: { 'Content-Type': 'application/json' },\n        };\n        fetch('https://bpm-searcher.herokuapp.com/api?' + query_params, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data)\n                props.setResult(data)\n            }\n        );\n    }\n\n    return (\n        <Grid\n            container\n            spacing={0}\n            direction=\"column\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n        >\n            <Box p={4}>\n                <Paper component=\"form\" className={classes.root}>\n                    <InputBase\n                        className={classes.input}\n                        placeholder=\"Search Songs or Artists\"\n                        inputProps={{ 'aria-label': 'search songs or artists' }}\n                        value={props.searchValue}\n                        onChange={handleSearchInputChanges}\n                    />\n                    <IconButton type=\"submit\" className={classes.iconButton} onClick={getBpms} aria-label=\"search\">\n                        <SearchIcon />\n                    </IconButton>\n                </Paper>\n            </Box>\n        </Grid>\n        \n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles((theme) => ({\n    row:{\n        cursor: 'pointer',\n        \"&:hover, &:focus\": {\n            backgroundColor: \"#ececec\"\n          },\n    }\n}))\n  \n\nexport default function SearchBox(props) {\n    const history = useHistory();\n    const classes = useStyles();\n    const handleLink = (path, row) => {\n        history.push(path, { data: row });\n    }\n    \n\n    return (\n        <Box width={1}  display=\"flex\" justifyContent=\"center\">\n            <Box width={0.85} justifyContent=\"center\">\n                <TableContainer component={Paper}>\n                    <Table  aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell align=\"center\">\n                                    <div>SONG</div>\n                                    {/* <div>ARTIST</div> */}\n                                </TableCell>\n                                <TableCell></TableCell>\n                                {/* <TableCell>ARTIST</TableCell> */}\n                                {/* <TableCell>ALBUM</TableCell> */}\n                                <TableCell>BPM</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                        {props.result.map((row) => (\n                            <TableRow key={row.bpm} onClick={() => handleLink(row.song_name, row)} className={classes.row}>\n                                {/* <Link to={{\n                                    pathname:'/' + row.song_name,\n                                    state: { test: 'test-state' }\n                                }}> */}\n                                    <TableCell align=\"center\">\n                                        <img src={row.image_url} height=\"100\"/>\n                                    </TableCell>\n                                    <TableCell>\n                                        <Typography>{row.song_name}</Typography>\n                                        <div>{row.artist}</div>\n                                    </TableCell>\n                                    {/* <TableCell>{row.artist}</TableCell> */}\n                                    {/* <TableCell>{row.album_name}</TableCell> */}\n                                    <TableCell><Typography>{row.bpm}</Typography></TableCell>\n                                {/* </Link> */}\n                            </TableRow>\n                        ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </Box>\n        </Box>\n    );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n    grow: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n      cursor: 'pointer'\n    },\n    logo:{\n        cursor: 'pointer'\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n  },\n}));\n\nexport default function PrimarySearchAppBar(props) {\n    const classes = useStyles();\n    const history = useHistory();\n\n    function onClickGithub() {\n        const url = 'https://github.com/ooyamatakehisa/bpm-searcher'\n        window.open(url, '_blank')\n    }\n    \n    const onClickAppBar = () => {\n        props.reset()\n        history.push(\"/\")\n    }\n\n    return (\n        <div className={classes.grow}>\n        <AppBar position=\"static\">\n            <Toolbar>\n            {/* <IconButton\n                edge=\"start\"\n                className={classes.menuButton}\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n            >\n                <MenuIcon />\n            </IconButton> */}\n            <Box pr={2} className={classes.logo} onClick={onClickAppBar}>\n                <img src=\"./favicon.svg\" height=\"25\" />\n            </Box>\n            <Typography className={classes.title} variant=\"h6\" noWrap onClick={onClickAppBar}>\n                BPM Searcher\n            </Typography>\n            <div className={classes.grow} />\n\n            <IconButton aria-label=\"show 17 new notifications\" color=\"inherit\" onClick={onClickGithub}>\n                <GitHubIcon />\n            </IconButton>\n\n            </Toolbar>\n        </AppBar>\n        </div>\n    );\n}\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\n\nexport default function Waiting(props) {\n    return (\n        <Grid\n            container\n            spacing={0}\n            direction=\"column\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n        >\n            <CircularProgress />\n        </Grid>\n    );\n}\n","import React from 'react';\n\nimport { useLocation } from 'react-router-dom';\n\n\nexport default function SongDetail(props) {\n    const location = useLocation();\n    const data = location.state.data\n    return (\n        <div>\n            {/* {location.state.data} */}\n            <img src={data.image_url} height=\"300\"/><br/>\n            {data.album_name}<br/>\n            {data.song_name}<br/>\n            {data.artist}<br/>\n            bpm: {data.bpm}<br/>\n            key: {data.key}<br/>\n            <audio\n                controls\n                src={data.preview_url}>\n                    Your browser does not support the\n                    <code>audio</code> element.\n            </audio>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from \"react-router-dom\";\nimport { createTheme, MuiThemeProvider } from '@material-ui/core/styles';\n\nimport SearchBox from './SearchBox'\nimport SearchResult from './SearchResult'\nimport Header from './Header'\nimport Waiting from './Waiting'\nimport SongDetail from './SongDetail'\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: '#da0047',\n            contrastText: '#fff',\n        },\n    }\n});\n\nfunction App() {\n    const [isSearched, setIsSearched] = useState(false);\n    const [result, setResult] = useState(null);\n    const [searchValue, setSearchValue] = useState(\"\");\n\n    const reset = () => {\n        setIsSearched(false)\n        setResult(null)\n        setSearchValue(\"\")\n    }\n\n    return (\n        <MuiThemeProvider theme={ theme }>\n            <Router>\n                <Header reset={ reset }/>\n                <Switch>\n                    <Route path=\"/\" exact>\n                        <SearchBox\n                            setIsSearched={ setIsSearched }\n                            setResult={ setResult }\n                            searchValue={ searchValue }\n                            setSearchValue={ setSearchValue }\n                        />\n                        {/* {!isSearched && <AppDesc />} */}\n                        {(isSearched && result === null) && <Waiting />}\n                        {result !== null && <SearchResult result={ result }/>}\n                    </Route>\n                    <Route path=\"/:spotify_id\" component={ SongDetail }/>\n                </Switch>\n            </Router>\n        </MuiThemeProvider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}