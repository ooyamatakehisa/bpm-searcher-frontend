{"version":3,"sources":["constant.js","Header.js","SongDetail.js","Footer.js","SignIn.js","SignInDialog.js","NoResult.js","Loading.js","SearchBox.js","CreatePlaylistDialog.js","SearchResult.js","Content.js","Ranking.js","Playlist.js","DraggableTable.js","Main.js","App.js","reportWebVitals.js","index.js"],"names":["KEY_DICT","MODE_DICT","APP_NAME","BASE_URL","API_BASE_URL","useStyles","makeStyles","theme","grow","flexGrow","menu","textAlign","alignItems","alignContent","justifyContent","display","alignSelf","title","breakpoints","up","logo","cursor","inputRoot","color","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","Header","props","classes","history","useHistory","React","useState","anchorEl","setAnchorEl","handleClose","onClickAppBar","push","className","AppBar","position","Toolbar","Box","pr","onClick","src","height","alt","StyledEngineProvider","injectFirst","ThemeProvider","themeLogo","Typography","variant","noWrap","isSignedIn","px","Button","setSignInDialogOpen","style","fontWeight","IconButton","event","currentTarget","Avatar","user","displayName","photoURL","Menu","open","Boolean","onClose","PaperProps","elevation","sx","overflow","filter","mt","ml","mr","content","top","right","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","Grid","container","item","p","email","Divider","uid","ListItemIcon","fontSize","signOut","startIcon","Logout","image","shadowColor","shadowOffset","shadowOpacity","shadowRadius","root","flexDirection","SongDetail","location","useLocation","data","state","xs","sm","align","image_url","maxWidth","song_name","album_name","artist","py","controls","preview_url","Card","size","icon","faDrum","Math","round","bpm","faGuitar","key","mode","faHeadphones","danceability","faCompactDisc","energy","footer","backgroundColor","footerMain","bottom","Footer","direction","window","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","uiConfig","signInFlow","signInSuccessUrl","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","SignIn","firebaseAuth","SignInDialog","signInDialogOpen","closeSignInDialog","Dialog","DialogTitle","id","DialogContent","DialogContentText","DialogActions","NoResult","searchValue","faMicrophoneAltSlash","pb","Loading","CircularProgress","input","marginLeft","flex","iconButton","divider","margin","SearchBox","inputValue","setInputValue","useEffect","query","URLSearchParams","search","get","getBpms","pathname","xl","Paper","InputBase","placeholder","inputProps","value","onChange","e","target","onKeyPress","type","CreatePlaylistDialog","openCreatePlaylistDialog","setOpenCreatePlaylistDialog","onClickCompleteCallback","newPlaylistName","setNewPlaylistName","newPlaylistDescription","setNewPlaylistDescription","enqueueSnackbar","useSnackbar","handleTextfiledChange","set","TextField","label","required","fullWidth","multiline","rows","a","currentUser","getIdToken","id_token","body","name","desc","config","headers","Authorization","axios","post","playlistInfo","undefined","console","log","autoFocus","row","result","ranking","playlistInfos","setPlaylistInfos","clickedTrack","setClickedTrack","handleLink","path","addTrack","playlist_id","kind","spotify_id","put","then","catch","err","m","TableContainer","Table","TableHead","TableRow","TableCell","gutterBottom","TableBody","map","index","hover","track","MenuListProps","maxHeight","ITEM_HEIGHT","length","playlist","prev","Content","setSearchValue","setResult","isResponded","setIsResponded","fetch","method","response","status","Error","statusText","json","Playlist","isLoading","setIsLoading","hasNoPlaylist","setHasNoPlaylist","playlistIdxForDeletion","setPlaylistIdxForDeletion","openDeletePlaylistDialog","setOpenDeletePlaylistDialog","useParams","openDeleteDialog","stopPropagation","onClickPlaylist","Create","CardHeader","action","DeleteSweep","subheader","num_tracks","CardMedia","component","CardContent","created_at","temp","delete","splice","DraggableTable","playlistTracks","setplaylistTracks","setPlaylistInfo","playlistId","playlist_tracks","playlist_info","datetime2date","datetime","split","slice","join","updated_at","onDragEnd","provided","destination","source","sourceIdx","destinationIdx","orderFrom","orderTo","patch","droppableId","droppableProvided","ref","innerRef","droppableProps","plyalistTrack","draggableId","draggableProvided","snapshot","draggableProps","dragHandleProps","Reorder","playlistTrack","deleteTrack","pageContainer","minHeight","contentWrap","Main","setIsSignedIn","setUser","onAuthStateChanged","exact","createTheme","palette","primary","main","contrastText","secondary","textSecondary","typography","fontFamily","App","notistackRef","createRef","onClickDismiss","current","closeSnackbar","maxSnack","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e55b5641.chunk.js","sourcesContent":["export const KEY_DICT = [\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\"\n]\n\nexport const MODE_DICT = [\n    \"Minor\",\n    \"Major\"\n]\n\nexport const APP_NAME = \"BPM Searcher\"\n// export const BASE_URL = \"http://localhost:8000\"\nexport const BASE_URL = \"https://bpm-searcher.herokuapp.com\"\nexport const API_BASE_URL = `${BASE_URL}/api/v1`\n","import React from \"react\";\nimport {\n  AppBar,\n  Avatar,\n  Box,\n  Button,\n  Divider,\n  Grid,\n  IconButton,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n  ListItemIcon,\n} from \"@mui/material\";\nimport { useHistory } from \"react-router-dom\";\nimport { ThemeProvider, StyledEngineProvider } from \"@mui/material/styles\";\nimport { Logout } from \"@mui/icons-material\";\nimport PlaylistPlayIcon from \"@mui/icons-material/PlaylistPlay\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { themeLogo } from \"./App\";\nimport { APP_NAME, BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menu: {\n    textAlign: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    display: \"flex\",\n    alignSelf: \"center\",\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n    cursor: \"pointer\",\n  },\n  logo: {\n    cursor: \"pointer\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function Header(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onClickAppBar = () => {\n    // props.reset();\n    history.push(\"/\");\n  };\n\n  const onClickPlaylist = () => {\n    handleClose();\n    history.push(`/user/${props.user.uid}/playlist`);\n  };\n\n  const signOut = () => {\n    setAnchorEl(null);\n    props.signOut();\n  };\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Box pr={2} className={classes.logo} onClick={onClickAppBar}>\n            <img src={`${BASE_URL}/favicon.svg`} height=\"25\" alt=\"Logo\" />\n          </Box>\n          <StyledEngineProvider injectFirst>\n            <ThemeProvider theme={themeLogo}>\n              <Typography\n                className={classes.title}\n                variant=\"h5\"\n                noWrap\n                onClick={onClickAppBar}\n              >\n                {APP_NAME}\n              </Typography>\n            </ThemeProvider>\n          </StyledEngineProvider>\n          <div className={classes.grow} />\n\n          {!props.isSignedIn && (\n            <Box px={1}>\n              <Button color=\"secondary\" onClick={props.setSignInDialogOpen}>\n                <Typography style={{ fontWeight: 600 }}>Sign In</Typography>\n              </Button>\n            </Box>\n          )}\n          {props.isSignedIn && (\n            <Box px={1}>\n              <IconButton onClick={handleClick}>\n                <Avatar\n                  alt={props.user.displayName}\n                  src={props.user.photoURL}\n                />\n              </IconButton>\n              {/* <Typography display=\"inline\">{props.user.displayName}</Typography> */}\n            </Box>\n          )}\n\n          {/* <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            getContentAnchorEl={null}\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n            transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            className={classes.menu}\n          > */}\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            PaperProps={{\n              elevation: 0,\n              sx: {\n                overflow: \"visible\",\n                filter: \"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))\",\n                mt: 1.5,\n                \"& .MuiAvatar-root\": {\n                  width: 32,\n                  height: 32,\n                  ml: -0.5,\n                  mr: 1,\n                },\n                \"&:before\": {\n                  content: '\"\"',\n                  display: \"block\",\n                  position: \"absolute\",\n                  top: 0,\n                  right: 14,\n                  width: 10,\n                  height: 10,\n                  bgcolor: \"background.paper\",\n                  transform: \"translateY(-50%) rotate(45deg)\",\n                  zIndex: 0,\n                },\n              },\n            }}\n            transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n            anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n          >\n            <MenuItem>\n              <Grid\n                container\n                alignContent=\"center\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                <Grid item className={classes.menu}>\n                  <Box p={2}>\n                    {/* <Avatar alt={props.user.displayName} src={props.user.photoURL}/> */}\n                    <img\n                      alt={props.user.displayName}\n                      src={props.user.photoURL}\n                    />\n                    <Typography variant=\"h6\">\n                      {props.user.displayName}\n                    </Typography>\n                    <Typography color=\"textSecondary\">\n                      {props.user.email}\n                    </Typography>\n                  </Box>\n                </Grid>\n              </Grid>\n            </MenuItem>\n            <Divider />\n            <MenuItem onClick={onClickPlaylist}>\n              <ListItemIcon>\n                <PlaylistPlayIcon fontSize=\"small\" />\n              </ListItemIcon>\n              Playlist\n            </MenuItem>\n            <Divider />\n            <MenuItem>\n              <Grid\n                container\n                alignContent=\"center\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                <Grid item>\n                  <Box p={2}>\n                    <Button\n                      variant=\"outlined\"\n                      color=\"primary\"\n                      onClick={signOut}\n                      startIcon={<Logout fontSize=\"small\" />}\n                    >\n                      Sign Out\n                    </Button>\n                  </Box>\n                </Grid>\n              </Grid>\n            </MenuItem>\n          </Menu>\n          {/* <Box px={1}>\n                    <Button color=\"secondary\" variant=\"outlined\">\n                        <Typography style={{ fontWeight: 600 }} color=\"info\">Sign Up</Typography>\n                    </Button>\n                </Box> */}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { useLocation } from \"react-router-dom\";\nimport { Grid, Card, Typography, Box } from \"@mui/material\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faDrum,\n  faGuitar,\n  faHeadphones,\n  faCompactDisc,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { KEY_DICT, MODE_DICT } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 10,\n    },\n    shadowOpacity: 0.12,\n    shadowRadius: 60,\n  },\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function SongDetail() {\n  const location = useLocation();\n  const classes = useStyles();\n\n  const data = location.state.data;\n  return (\n    <div>\n      <Box display=\"flex\" justifyContent=\"center\">\n        <Box width={0.6} justifyContent=\"center\" p={5}>\n          <Grid container spacing={4}>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Box width=\"100%\">\n                <img\n                  src={data.image_url}\n                  width=\"100%\"\n                  style={{ maxWidth: \"300px\" }}\n                  alt={data.song_name}\n                />\n              </Box>\n              <Typography variant=\"h6\">{data.album_name}</Typography>\n            </Grid>\n            <Grid item xs={12} sm={6} className={classes.root}>\n              <Typography variant=\"h5\" color=\"textSecondary\">\n                {data.artist}\n              </Typography>\n              <Typography variant=\"h4\">{data.song_name}</Typography>\n              <Box py={3}>\n                <audio controls src={data.preview_url}>\n                  Your browser does not support the\n                  <code>audio</code> element.\n                </audio>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faDrum} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      BPM\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{Math.round(data.bpm)}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faGuitar} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      KEY\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">\n                    {KEY_DICT[data.key]} {MODE_DICT[data.mode]}\n                  </Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faHeadphones} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      Danceability\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{data.danceability}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faCompactDisc} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      Energy\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{data.energy}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import React from \"react\";\nimport GitHubIcon from \"@mui/icons-material/GitHub\";\nimport {\n  Box,\n  Grid,\n  IconButton,\n  ThemeProvider,\n  StyledEngineProvider,\n  Typography,\n} from \"@mui/material\";\n\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { themeLogo } from \"./App\";\nimport { APP_NAME, BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#f0f3f4\",\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  footerMain: {\n    bottom: 0,\n  },\n}));\n\nexport default function Footer() {\n  const classes = useStyles();\n  function onClickGithub() {\n    const url = \"https://github.com/ooyamatakehisa/bpm-searcher\";\n    window.open(url, \"_blank\");\n  }\n  return (\n    <div className={classes.footerMain}>\n      <Box color=\"primary\" className={classes.footer}>\n        <Box p={10}>\n          <Grid\n            container\n            direction=\"column\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            spacing={2}\n          >\n            <Grid item xs={12}>\n              <img src={`${BASE_URL}/favicon.svg`} height=\"25\" alt=\"logo\" />\n            </Grid>\n            <Grid item xs={12}>\n              <StyledEngineProvider injectFirst>\n                <ThemeProvider theme={themeLogo}>\n                  <Typography\n                    variant=\"h5\"\n                    noWrap\n                    color=\"primary\"\n                    display=\"inline\"\n                  >\n                    {APP_NAME}\n                  </Typography>\n                </ThemeProvider>\n              </StyledEngineProvider>\n            </Grid>\n            <Grid item xs={12}>\n              <IconButton\n                aria-label=\"show 17 new notifications\"\n                color=\"inherit\"\n                onClick={onClickGithub}\n                size=\"large\"\n              >\n                <GitHubIcon />\n              </IconButton>\n            </Grid>\n          </Grid>\n          <Box p={2}>\n            <Typography>© Takehisa Oyama. All rights reserved.</Typography>\n          </Box>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import React from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\n\n// Configure Firebase.\nconst config = {\n  apiKey: \"AIzaSyAmi32aEPLYTvsGmgT5DWxGHJGhs19KBhY\",\n  authDomain: \"bpm-searcher.firebaseapp.com\",\n  projectId: \"bpm-searcher\",\n  storageBucket: \"bpm-searcher.appspot.com\",\n  messagingSenderId: \"380948537710\",\n  appId: \"1:380948537710:web:37f78017daaee0abe3617f\",\n};\nfirebase.initializeApp(config);\n\n// Configure FirebaseUI.\nconst uiConfig = {\n  // Popup signin flow rather than redirect flow.\n  // signInFlow: 'redirect',\n  signInFlow: \"popup\",\n  // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n  signInSuccessUrl: \"/\",\n  // We will display Google and Facebook as auth providers.\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n  ],\n};\n\nexport default function SignIn() {\n  return (\n    <div>\n      <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Button,\n  Box,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@mui/material\";\nimport SignIn from \"./SignIn\";\nimport { APP_NAME } from \"./constant\";\n\nexport default function SignInDialog({ signInDialogOpen, closeSignInDialog }) {\n  return (\n    <Dialog\n      open={signInDialogOpen}\n      onClose={closeSignInDialog}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Sign In / Sign Up</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          You can create playlists and save songs to it if you sign in this\n          system. You can also sync the playlists with Spotify playlists in future.\n        </DialogContentText>\n        <Box p={2}>\n          <SignIn />\n        </Box>\n        <DialogContentText>\n          {APP_NAME} uses the Firebase Authentication as login service and does\n          not have any user information on its server.\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeSignInDialog} color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Grid, Typography, Box } from \"@mui/material\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function NoResult({ searchValue }) {\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box p={6}>\n        <FontAwesomeIcon size=\"5x\" icon={faMicrophoneAltSlash} />\n      </Box>\n      <Box pb={10}>\n        <Typography variant=\"h6\">\n          No results found for <b>{searchValue}</b>\n        </Typography>\n      </Box>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { CircularProgress, Grid, Box } from \"@mui/material\";\n\nexport default function Loading() {\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box p={20}>\n        <CircularProgress />\n      </Box>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Box, Paper, IconButton, InputBase, Grid } from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    height: 55,\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nexport default function SearchBox() {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    if (query.get(\"search\") !== null) {\n      setInputValue(query.get(\"search\"));\n    }\n  }, [location]);\n\n  const handleSearchInputChanges = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const getBpms = () => {\n    history.push({\n      pathname: \"/track\",\n      search: `?search=${inputValue}`,\n    });\n  };\n\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box py={4} width={{ xs: 0.9, sm: 0.7, xl: 0.4}}>\n        <Paper className={classes.root}>\n          <InputBase\n            className={classes.input}\n            placeholder=\"Search Songs or Artists\"\n            inputProps={{ \"aria-label\": \"search songs or artists\" }}\n            value={inputValue}\n            onChange={handleSearchInputChanges}\n            onKeyPress={(e) => {\n              // e.keyCodeは常に0になる\n              if (e.key === \"Enter\") {\n                // エンターキー押下時の処理\n                getBpms();\n              }\n            }}\n          />\n          <IconButton\n            type=\"submit\"\n            className={classes.iconButton}\n            onClick={getBpms}\n            aria-label=\"search\"\n            size=\"large\"\n          >\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n      </Box>\n    </Grid>\n  );\n}\n","import { React, useState } from \"react\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n} from \"@mui/material\";\nimport axios from \"axios\";\nimport { useSnackbar } from 'notistack';\nimport firebase from \"firebase\";\n\nimport { API_BASE_URL } from \"./constant\";\n\nexport default function CreatePlaylistDialog({\n  openCreatePlaylistDialog,\n  setOpenCreatePlaylistDialog,\n  onClickCompleteCallback\n}) {\n  const [newPlaylistName, setNewPlaylistName] = useState(\"\");\n  const [newPlaylistDescription, setNewPlaylistDescription] = useState(\"\");\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleTextfiledChange = (set) => (event) => {\n    set(event.target.value);\n  };\n\n  const createPlaylist = () => {\n    (async () => {\n      setOpenCreatePlaylistDialog(false);\n      const user = await firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      let body = { name: newPlaylistName, desc: newPlaylistDescription };\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      try {\n        const data = await axios.post(\n          `${API_BASE_URL}/user/${user.uid}/playlist`,\n          body,\n          config\n        );\n        const playlistInfo = data.data;\n        if (onClickCompleteCallback !== undefined) onClickCompleteCallback(playlistInfo);\n        setNewPlaylistName(\"\");\n        setNewPlaylistDescription(\"\");\n        enqueueSnackbar(`The playlist \"${playlistInfo.name}\" is successfuly created !`)\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  };\n\n  return (\n    <div>\n      <Dialog\n        open={openCreatePlaylistDialog}\n        onClose={() => setOpenCreatePlaylistDialog(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Create a New Playlist and Add the Song\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            <Box py={1}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Name\"\n                variant=\"outlined\"\n                value={newPlaylistName}\n                onChange={handleTextfiledChange(setNewPlaylistName)}\n                required={true}\n                fullWidth\n              />\n            </Box>\n            <Box py={1}>\n              <TextField\n                id=\"outlined-multiline-static\"\n                label=\"Description\"\n                value={newPlaylistDescription}\n                onChange={handleTextfiledChange(setNewPlaylistDescription)}\n                multiline\n                fullWidth\n                rows={4}\n              />\n            </Box>\n            You can check the playlist by clicking the icon button in the upper\n            right corner.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={createPlaylist} autoFocus>\n            COMPLETE\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import { React, useState, useEffect } from \"react\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n  Box,\n  Divider,\n  IconButton,\n  Menu,\n  MenuItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@mui/material\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\nimport { useSnackbar } from \"notistack\";\n\nimport CreatePlaylistDialog from \"./CreatePlaylistDialog\";\nimport { API_BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles({\n  row: {\n    cursor: \"pointer\",\n  },\n});\nconst ITEM_HEIGHT = 100;\n\nexport default function SearchBox({\n  isSignedIn,\n  setSignInDialogOpen,\n  result,\n  ranking,\n  title,\n}) {\n  const history = useHistory();\n  const classes = useStyles();\n  const [openCreatePlaylistDialog, setOpenCreatePlaylistDialog] =\n    useState(false);\n  const [playlistInfos, setPlaylistInfos] = useState([]);\n  const [clickedTrack, setClickedTrack] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleClick = (track) => (event) => {\n    if (isSignedIn) {\n      setClickedTrack(track);\n      setAnchorEl(event.currentTarget);\n    } else {\n      setSignInDialogOpen();\n      // signIn();\n    }\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const newCreatePlaylistDialog = () => {\n    setOpenCreatePlaylistDialog(true);\n    handleClose();\n  };\n\n  const handleLink = (path, row) => {\n    history.push(`/track/${path}`, { data: row });\n  };\n\n  const createPlaylistAndAddTrack = (playlistInfo) => {\n    setOpenCreatePlaylistDialog(false);\n    setPlaylistInfos((prev) => {\n      prev.push(playlistInfo);\n      return prev;\n    });\n    addTrack(playlistInfo.id);\n  };\n\n  const saveBpm = (playlist_id) => {\n    handleClose();\n    addTrack(playlist_id);\n  };\n\n  const addTrack = (playlist_id) => {\n    (async () => {\n      const user = await firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const body = { kind: \"track\", spotify_id: clickedTrack.spotify_id };\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n\n      try {\n        axios\n          .put(\n            `${API_BASE_URL}/user/${user.uid}/playlist/${playlist_id}`,\n            body,\n            config\n          )\n          .then((data) => {\n            enqueueSnackbar(\n              `\"${clickedTrack.song_name} (${clickedTrack.artist})\" is added to your playlist !`\n            );\n          })\n          .catch((err) => console.log(err));\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(`${API_BASE_URL}/user/${user.uid}/playlist`, config)\n          .then((data) => {\n            setPlaylistInfos(data.data);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        // setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn]);\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      <Box width={{ xs: 0.9, sm: 0.8, xl: 0.5 }} justifyContent=\"center\">\n        <Box m={2}>\n          <Typography variant=\"h5\">{title}</Typography>\n        </Box>\n        <TableContainer>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">\n                  <Typography variant=\"subtitle1\" gutterBottom>\n                    SONG\n                  </Typography>\n                </TableCell>\n                {ranking && (\n                  <TableCell align=\"center\">\n                    <Typography variant=\"subtitle1\" gutterBottom></Typography>\n                  </TableCell>\n                )}\n                <TableCell></TableCell>\n                <TableCell width=\"15%\" align=\"center\">\n                  <Typography variant=\"subtitle1\" gutterBottom>\n                    BPM\n                  </Typography>\n                </TableCell>\n                <TableCell width=\"15%\" align=\"center\">\n                  SAVE\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {result.map((row, index) => (\n                <TableRow\n                  key={row.spotify_id}\n                  className={classes.row}\n                  hover={true}\n                >\n                  <TableCell\n                    align=\"center\"\n                    onClick={() => handleLink(row.spotify_id, row)}\n                  >\n                    <img src={row.image_url} height=\"100\" alt={row.song_name} />\n                  </TableCell>\n                  {ranking && (\n                    <TableCell\n                      align=\"center\"\n                      onClick={() => handleLink(row.spotify_id, row)}\n                    >\n                      <Typography variant=\"h6\" gutterBottom>\n                        {index + 1}\n                      </Typography>\n                    </TableCell>\n                  )}\n                  <TableCell onClick={() => handleLink(row.spotify_id, row)}>\n                    <Typography variant=\"h6\">\n                      <Box fontWeight=\"fontWeightMedium\">{row.song_name}</Box>\n                    </Typography>\n                    <div>{row.artist}</div>\n                  </TableCell>\n                  <TableCell\n                    align=\"center\"\n                    onClick={() => handleLink(row.spotify_id, row)}\n                  >\n                    <Typography variant=\"h5\" gutterBottom>\n                      {Math.round(row.bpm)}\n                    </Typography>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      onClick={handleClick(row)}\n                      size=\"large\"\n                      aria-controls=\"basic-menu\"\n                      aria-haspopup=\"true\"\n                      aria-expanded={open ? \"true\" : undefined}\n                    >\n                      <SaveAltIcon color=\"primary\" fontSize=\"medium\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n      <Menu\n        id=\"long-menu\"\n        MenuListProps={{\n          \"aria-labelledby\": \"long-button\",\n        }}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: \"20ch\",\n          },\n        }}\n      >\n        <MenuItem\n          key=\"create playlist\"\n          onClick={() => newCreatePlaylistDialog()}\n        >\n          Create a New Playlist\n        </MenuItem>\n        {playlistInfos.length !== 0 && <Divider />}\n        {playlistInfos.map((playlist) => (\n          <MenuItem key={playlist.id} onClick={() => saveBpm(playlist.id)}>\n            {playlist.name}\n          </MenuItem>\n        ))}\n      </Menu>\n      <CreatePlaylistDialog\n        openCreatePlaylistDialog={openCreatePlaylistDialog}\n        setOpenCreatePlaylistDialog={setOpenCreatePlaylistDialog}\n        onClickCompleteCallback={createPlaylistAndAddTrack}\n      />\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport NoResult from \"./NoResult\";\nimport Loading from \"./Loading\";\nimport SearchBox from \"./SearchBox\";\nimport SearchResult from \"./SearchResult\";\nimport { API_BASE_URL } from \"./constant\";\n\nexport default function Content({ isSignedIn, setSignInDialogOpen }) {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [result, setResult] = useState([]);\n  const [isResponded, setIsResponded] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    setIsResponded(false);\n    setSearchValue(query.get(\"search\"));\n    const requestOptions = {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n\n    fetch(`${API_BASE_URL}/track?search=${query.get(\"search\")}`, requestOptions)\n      .then((response) => {\n        if (response.status === 404) {\n          setResult([]);\n          setIsResponded(true);\n          throw new Error(response.statusText);\n        } else {\n          return response.json();\n        }\n      })\n      .then((data) => {\n        setResult(data);\n        setIsResponded(true);\n      })\n      .catch((err) => console.log(err));\n  }, [location]);\n\n  return (\n    <div>\n      <SearchBox />\n      {!isResponded && <Loading />}\n      {isResponded && result.length !== 0 && (\n        <SearchResult\n          isSignedIn={isSignedIn}\n          setSignInDialogOpen={setSignInDialogOpen}\n          result={result}\n          ranking={false}\n          title={`Search Results for \"${searchValue}\"`}\n        />\n      )}\n      {isResponded && result.length === 0 && (\n        <NoResult searchValue={searchValue} />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport Loading from \"./Loading\";\nimport SearchBox from \"./SearchBox\";\nimport SearchResult from \"./SearchResult\";\nimport { API_BASE_URL } from \"./constant\";\n\nexport default function Content({ isSignedIn, setSignInDialogOpen }) {\n  const [result, setResult] = useState([]);\n\n  useEffect(() => {\n    fetch(`${API_BASE_URL}/ranking`)\n      .then((response) => response.json())\n      .then((data) => {\n        setResult(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <div>\n      <SearchBox />\n      {result.length === 0 && <Loading />}\n      {result.length !== 0 && (\n        <SearchResult\n          isSignedIn={isSignedIn}\n          setSignInDialogOpen={setSignInDialogOpen}\n          result={result}\n          ranking={true}\n          title={\"Spotify Top Chart\"}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Divider,\n  IconButton,\n  Typography,\n  Grid,\n} from \"@mui/material\";\nimport { useSnackbar } from \"notistack\";\nimport { DeleteSweep, Create } from \"@mui/icons-material\";\nimport CreatePlaylistDialog from \"./CreatePlaylistDialog\";\nimport { API_BASE_URL } from \"./constant\";\nimport Loading from \"./Loading\";\n\nexport default function Playlist({ isSignedIn, setSignInDialogOpen }) {\n  const [playlistInfos, setPlaylistInfos] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasNoPlaylist, setHasNoPlaylist] = useState(false);\n  const [openCreatePlaylistDialog, setOpenCreatePlaylistDialog] =\n    useState(false);\n  const [playlistIdxForDeletion, setPlaylistIdxForDeletion] =\n    React.useState(null);\n  const [openDeletePlaylistDialog, setOpenDeletePlaylistDialog] =\n    useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n  const history = useHistory();\n  const { uid } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(`${API_BASE_URL}/user/${user.uid}/playlist`, config)\n          .then((data) => {\n            setPlaylistInfos(data.data);\n            setIsLoading(false);\n            setHasNoPlaylist(data.data.length === 0);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn, setSignInDialogOpen, uid]);\n\n  const openDeleteDialog = (index) => (e) => {\n    e.stopPropagation();\n    setOpenDeletePlaylistDialog(true);\n    setPlaylistIdxForDeletion(index);\n  };\n\n  const callbackCreatePlaylist = (playlistInfo) => {\n    setPlaylistInfos((prev) => {\n      const temp = [...prev];\n      temp.push(playlistInfo)\n      return temp;\n    });\n  }\n\n  const deletePlaylist = () => {\n    const playlistInfo = playlistInfos[playlistIdxForDeletion];\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      axios\n        .delete(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistInfo.id}`,\n          config\n        )\n        .then((data) => {\n          playlistInfos.splice(playlistIdxForDeletion, 1);\n          setPlaylistInfos((prev) => {\n            const temp = [...prev];\n            return temp;\n          });\n          setHasNoPlaylist(playlistInfos.length === 0);\n\n          enqueueSnackbar(\n            `\"${playlistInfo.name}\" is romoved from your playlist list !`\n          );\n          setOpenDeletePlaylistDialog(false);\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  const onClickPlaylist = (row) => () => {\n    history.push(`/user/${uid}/playlist/${row.id}`);\n  };\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      <Box width={0.8} py={10} justifyContent=\"center\">\n        <Box pb={5}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<Create />}\n            onClick={() => setOpenCreatePlaylistDialog(true)}\n          >\n            Create Playlist\n          </Button>\n        </Box>\n        {isLoading && <Loading />}\n        {!isLoading && hasNoPlaylist && (\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            There is no playlist. <br />\n            You can create a playlist from \"CREATE PlAYLIST\" button above.\n          </Typography>\n        )}\n        {!isLoading && !hasNoPlaylist && (\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            spacing={2}\n            width={1}\n          >\n            {playlistInfos.map((row, index) => (\n              <Grid item xs={12} sm={3} xl={2} key={row.id}>\n                <Card\n                  onClick={onClickPlaylist(row)}\n                  style={{ cursor: \"pointer\" }}\n                >\n                  <CardHeader\n                    action={\n                      <IconButton\n                        aria-label=\"settings\"\n                        onClick={openDeleteDialog(index)}\n                      >\n                        <DeleteSweep />\n                      </IconButton>\n                    }\n                    title={row.name}\n                    subheader={`${row.num_tracks} songs`}\n                  />\n                  {/* {row.image_url == null && <Divider/>} */}\n                  {row.image_url != null && (\n                    <CardMedia\n                      component=\"img\"\n                      // height=\"194\"\n                      image={row.image_url}\n                      alt={row.name}\n                    />\n                  )}\n                  <CardContent>\n                    <Typography variant=\"body1\" color=\"text.secondary\">\n                      {row.desc}\n                    </Typography>\n                    <Divider />\n\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      <br />\n                      Created at\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {row.created_at}\n                    </Typography>\n                  </CardContent>\n                  {/* <CardActions>\n                  <Button size=\"small\">Share</Button>\n                  <Button size=\"small\">Learn More</Button>\n                </CardActions> */}\n                </Card>\n              </Grid>\n            ))}\n          </Grid>\n        )}\n      </Box>\n      <CreatePlaylistDialog\n        openCreatePlaylistDialog={openCreatePlaylistDialog}\n        setOpenCreatePlaylistDialog={setOpenCreatePlaylistDialog}\n        onClickCompleteCallback={callbackCreatePlaylist}\n      />\n      <Dialog\n        open={openDeletePlaylistDialog}\n        onClose={() => setOpenDeletePlaylistDialog(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Are you sure you want to delete this playlist ?\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            All tracks and infomation of this playlist will be permanently\n            deleted.\n            <br />\n            Are you sure you want to delete this playlist ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={deletePlaylist} autoFocus>\n            DELETE\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport {\n  Box,\n  IconButton,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Divider,\n} from \"@mui/material\";\nimport { Reorder, DeleteSweep } from \"@mui/icons-material\";\nimport firebase from \"firebase\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\n\nimport { API_BASE_URL } from \"./constant\";\nimport Loading from \"./Loading\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function DraggableTable({ isSignedIn, setSignInDialogOpen }) {\n  // cache the items provided via props in state for purposes of this demo\n  const [playlistTracks, setplaylistTracks] = useState([]);\n  const [playlistInfo, setPlaylistInfo] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const history = useHistory();\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n  let { playlistId } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(\n            `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}`,\n            config\n          )\n          .then((data) => {\n            setplaylistTracks(data.data.playlist_tracks);\n            setPlaylistInfo(data.data.playlist_info);\n            setIsLoading(false);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn, playlistId, setSignInDialogOpen]);\n\n  const deleteTrack = (playlistTrack, index) => {\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      axios\n        .delete(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}/track/${playlistTrack.id}`,\n          config\n        )\n        .then((data) => {\n          playlistTracks.splice(index, 1);\n          setplaylistTracks((prev) => {\n            const temp = [...prev];\n            return temp;\n          });\n          setPlaylistInfo((prev) => {\n            const temp = prev;\n            if (playlistTracks.length > 0) {\n              temp.image_url = playlistTracks[0].track.image_url;\n            } else {\n              temp.image_url = null;\n            }\n            return temp;\n          });\n          enqueueSnackbar(\n            `\"${playlistTrack.track.song_name} (${playlistTrack.track.artist})\" is romoved from your playlist !`\n          )\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  // normally one would commit/save any order changes via an api call here...\n  const handleDragEnd = (result, provided) => {\n    if (!result.destination) {\n      return;\n    }\n\n    if (result.destination.index === result.source.index) {\n      return;\n    }\n\n    setplaylistTracks((prev) => {\n      const temp = [...prev];\n      const sourceIdx = result.source.index;\n      const destinationIdx = result.destination.index;\n      temp.splice(sourceIdx, 1);\n      temp.splice(destinationIdx, 0, prev[sourceIdx]);\n\n      setPlaylistInfo((prev) => {\n        prev.image_url = temp[0].track.image_url;\n        return prev;\n      });\n\n      return temp;\n    });\n\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      const body = {\n        orderFrom: result.source.index + 1,\n        orderTo: result.destination.index + 1,\n      };\n      axios\n        .patch(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}/track`,\n          body,\n          config\n        )\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  const datetime2date = (datetime) => {\n    if (datetime == null) return \"\";\n    const datetimes = datetime.split(\" \");\n    return datetimes.slice(0, 4).join(\" \");\n  };\n\n  const handleLink = (path, row) => {\n    history.push(`/track/${path}`, { data: row });\n  };\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      {isLoading && <Loading />}\n      {!isLoading && (\n        <Box\n          width={{ xs: 0.9, sm: 0.8, xl: 0.5 }}\n          justifyContent=\"center\"\n          p={5}\n        >\n          <Grid container spacing={8}>\n            <Grid item xs={12} sm={3} align=\"center\">\n              <Grid container direction=\"column\" spacing={4}>\n                <Grid item xs={12} sm={6} align=\"center\">\n                  <Box width=\"100%\">\n                    <img\n                      src={playlistInfo.image_url}\n                      width=\"100%\"\n                      style={{ maxWidth: \"300px\" }}\n                      alt={playlistInfo.name}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={6} className={classes.root}>\n                  <Typography variant=\"h4\">{playlistInfo.name}</Typography>\n                  <Typography variant=\"h5\" color=\"textSecondary\">\n                    {playlistInfo.desc}\n                  </Typography>\n                  <Box py={2}>\n                    <Divider />\n                  </Box>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {playlistInfo.num_tracks} songs\n                    <br />\n                    Created at {datetime2date(playlistInfo.created_at)}\n                    <br />\n                    Updated at {datetime2date(playlistInfo.updated_at)}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={9} align=\"center\">\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\"></TableCell>\n                      <TableCell align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          SONG\n                        </Typography>\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <Typography\n                          variant=\"subtitle1\"\n                          gutterBottom\n                        ></Typography>\n                      </TableCell>\n                      <TableCell></TableCell>\n                      <TableCell width=\"15%\" align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          BPM\n                        </Typography>\n                      </TableCell>\n                      <TableCell width=\"15%\" align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          DELETE\n                        </Typography>\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <DragDropContext onDragEnd={handleDragEnd}>\n                    <Droppable droppableId=\"droppable\" direction=\"vertical\">\n                      {(droppableProvided) => (\n                        <TableBody\n                          ref={droppableProvided.innerRef}\n                          {...droppableProvided.droppableProps}\n                        >\n                          {playlistTracks.map((plyalistTrack, index) => (\n                            <Draggable\n                              key={plyalistTrack.id}\n                              draggableId={plyalistTrack.id}\n                              index={index}\n                            >\n                              {(draggableProvided, snapshot) => {\n                                return (\n                                  <TableRow\n                                    hover={true}\n                                    ref={draggableProvided.innerRef}\n                                    {...draggableProvided.draggableProps}\n                                    style={{\n                                      ...draggableProvided.draggableProps.style,\n                                      cursor: \"pointer\",\n                                    }}\n                                  >\n                                    <TableCell align=\"center\">\n                                      <div\n                                        {...draggableProvided.dragHandleProps}\n                                      >\n                                        <Reorder />\n                                      </div>\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"center\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <img\n                                        src={plyalistTrack.track.image_url}\n                                        height=\"100\"\n                                        alt={plyalistTrack.track.song_name}\n                                      />\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"center\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <Typography variant=\"h6\" gutterBottom>\n                                        {index + 1}\n                                      </Typography>\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"left\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <Typography variant=\"h6\">\n                                        <Box fontWeight=\"fontWeightMedium\">\n                                          {plyalistTrack.track.song_name}\n                                        </Box>\n                                      </Typography>\n                                      <div>{plyalistTrack.track.artist}</div>\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                      <Typography variant=\"h5\" gutterBottom>\n                                        {Math.round(plyalistTrack.track.bpm)}\n                                      </Typography>\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                      <IconButton\n                                        onClick={() =>\n                                          deleteTrack(plyalistTrack, index)\n                                        }\n                                      >\n                                        <DeleteSweep />\n                                      </IconButton>\n                                    </TableCell>\n                                  </TableRow>\n                                );\n                              }}\n                            </Draggable>\n                          ))}\n                          {droppableProvided.placeholder}\n                        </TableBody>\n                      )}\n                    </Droppable>\n                  </DragDropContext>\n                </Table>\n              </TableContainer>\n            </Grid>\n          </Grid>\n        </Box>\n      )}\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useSnackbar } from \"notistack\";\nimport firebase from \"firebase\";\n\nimport Header from \"./Header\";\nimport SongDetail from \"./SongDetail\";\nimport Footer from \"./Footer\";\nimport SignInDialog from \"./SignInDialog\";\nimport Content from \"./Content\";\nimport Ranking from \"./Ranking\";\nimport Playlist from \"./Playlist\";\nimport DraggableTable from \"./DraggableTable\";\n\nconst useStyles = makeStyles((theme) => ({\n  pageContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: \"100vh\",\n  },\n  contentWrap: {\n    flex: 1,\n  },\n}));\n\nexport default function Main() {\n  const classes = useStyles();\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [user, setUser] = useState(false);\n  const [signInDialogOpen, setSignInDialogOpen] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const signOut = () => {\n    enqueueSnackbar(\"Sign Out !\");\n    firebase.auth().signOut();\n  };\n\n  const closeSignInDialog = () => {\n    setSignInDialogOpen(false);\n  };\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        enqueueSnackbar(\"Sign In !\");\n        setIsSignedIn(true);\n        setUser(user);\n      } else {\n        setIsSignedIn(false);\n        setUser({});\n      }\n    });\n  }, [enqueueSnackbar]);\n\n  return (\n    <div className={classes.pageContainer}>\n      <div className={classes.contentWrap}>\n        <Router>\n          <Header\n            // reset={reset}\n            isSignedIn={isSignedIn}\n            user={user}\n            setSignInDialogOpen={() => setSignInDialogOpen(true)}\n            signOut={signOut}\n          />\n          <Switch>\n            <Route path=\"/\" exact>\n              <Ranking\n                isSignedIn={isSignedIn}\n                setSignInDialogOpen={() => setSignInDialogOpen(true)}\n              />\n            </Route>\n            <Route path=\"/track\" exact>\n              <Content\n                isSignedIn={isSignedIn}\n                setSignInDialogOpen={() => setSignInDialogOpen(true)}\n              />\n            </Route>\n            <Route path=\"/user/:uid/playlist\" exact>\n              <Playlist\n                isSignedIn={isSignedIn}\n                setSignInDialogOpen={() => setSignInDialogOpen(true)}\n              />\n            </Route>\n            <Route path=\"/user/:uid/playlist/:playlistId\">\n              <DraggableTable\n                isSignedIn={isSignedIn}\n                setSignInDialogOpen={() => setSignInDialogOpen(true)}\n              />\n            </Route>\n            <Route path=\"/track/:spotify_id\">\n              <SongDetail />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n      <Footer />\n      <SignInDialog\n        signInDialogOpen={signInDialogOpen}\n        closeSignInDialog={closeSignInDialog}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  createTheme,\n  ThemeProvider,\n  StyledEngineProvider,\n} from \"@mui/material/styles\";\nimport { IconButton } from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { SnackbarProvider } from \"notistack\";\n\nimport Main from \"./Main\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#da0047\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      main: \"#ffffff\",\n      contrastText: \"#a0a0a0\",\n    },\n    textSecondary: {\n      main: \"#a0a0a0\",\n      contrastText: \"#a0a0a0\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Lato\", \"Raleway\"].join(\",\"),\n  },\n});\n\nexport const themeLogo = createTheme({\n  palette: {\n    primary: {\n      main: \"#da0047\",\n      contrastText: \"#fff\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Bowlby One SC\"].join(\",\"),\n  },\n});\n\nfunction App() {\n  const notistackRef = React.createRef();\n  const onClickDismiss = (key) => () => {\n    notistackRef.current.closeSnackbar(key);\n  };\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <SnackbarProvider\n          maxSnack={3}\n          ref={notistackRef}\n          action={(key) => (\n            <IconButton\n              aria-label=\"close\"\n              onClick={onClickDismiss(key)}\n              color=\"secondary\"\n            >\n              <CloseIcon />\n            </IconButton>\n          )}\n        >\n          <Main />\n        </SnackbarProvider>\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}