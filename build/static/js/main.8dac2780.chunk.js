(this.webpackJsonpaaa=this.webpackJsonpaaa||[]).push([[0],{170:function(e,t,n){},211:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(37),i=n.n(r),s=(n(170),n(151)),o=n(258),l=n(309),j=n(290),u=n(150),d=n.n(u),b=n(38),h=n(12),O=n(56),x=n(27),p=n(272),g=n(25),f=n(8),m=n(286),y=n(288),v=n(289),A=n(220),k=n(280),C=n(281),S=n(152),w=n(283),I=n(284),P=n(262),D=n(263),B=n(265),L=n(140),U=n.n(L),E=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],M=["Minor","Major"],z="BPM Searcher",T="https://bpm-searcher.herokuapp.com",R="".concat(T,"/api/v1"),G=n(1),H=Object(p.a)((function(e){var t;return{grow:{flexGrow:1},menu:{textAlign:"center",alignItems:"center",alignContent:"center",justifyContent:"center",display:"flex",alignSelf:"center"},title:(t={display:"none"},Object(f.a)(t,e.breakpoints.up("sm"),{display:"block"}),Object(f.a)(t,"cursor","pointer"),t),logo:{cursor:"pointer"},inputRoot:{color:"inherit"},inputInput:Object(f.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),")"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));function K(e){var t=H(),n=Object(x.f)(),a=c.a.useState(null),r=Object(h.a)(a,2),i=r[0],s=r[1],u=function(){s(null)},d=function(){n.push("/")};return Object(G.jsx)("div",{className:t.grow,children:Object(G.jsx)(m.a,{position:"static",children:Object(G.jsxs)(y.a,{children:[Object(G.jsx)(v.a,{pr:2,className:t.logo,onClick:d,children:Object(G.jsx)("img",{src:"".concat(T,"/favicon.svg"),height:"25",alt:"Logo"})}),Object(G.jsx)(o.a,{injectFirst:!0,children:Object(G.jsx)(l.a,{theme:ut,children:Object(G.jsx)(A.a,{className:t.title,variant:"h5",noWrap:!0,onClick:d,children:z})})}),Object(G.jsx)("div",{className:t.grow}),!e.isSignedIn&&Object(G.jsx)(v.a,{px:1,children:Object(G.jsx)(k.a,{color:"secondary",onClick:e.setSignInDialogOpen,children:Object(G.jsx)(A.a,{style:{fontWeight:600},children:"Sign In"})})}),e.isSignedIn&&Object(G.jsx)(v.a,{px:1,children:Object(G.jsx)(j.a,{onClick:function(e){s(e.currentTarget)},children:Object(G.jsx)(C.a,{alt:e.user.displayName,src:e.user.photoURL})})}),Object(G.jsxs)(S.a,{anchorEl:i,open:Boolean(i),onClose:u,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(G.jsx)(w.a,{children:Object(G.jsx)(I.a,{container:!0,alignContent:"center",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(I.a,{item:!0,className:t.menu,children:Object(G.jsxs)(v.a,{p:2,children:[Object(G.jsx)("img",{alt:e.user.displayName,src:e.user.photoURL}),Object(G.jsx)(A.a,{variant:"h6",children:e.user.displayName}),Object(G.jsx)(A.a,{color:"textSecondary",children:e.user.email})]})})})}),Object(G.jsx)(P.a,{}),Object(G.jsxs)(w.a,{onClick:function(){u(),n.push("/user/".concat(e.user.uid,"/playlist"))},children:[Object(G.jsx)(D.a,{children:Object(G.jsx)(U.a,{fontSize:"small"})}),"Playlist"]}),Object(G.jsx)(P.a,{}),Object(G.jsx)(w.a,{children:Object(G.jsx)(I.a,{container:!0,alignContent:"center",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(I.a,{item:!0,children:Object(G.jsx)(v.a,{p:2,children:Object(G.jsx)(k.a,{variant:"outlined",color:"primary",onClick:function(){s(null),e.signOut()},startIcon:Object(G.jsx)(B.a,{fontSize:"small"}),children:"Sign Out"})})})})})]})]})})})}var N=n(297),q=n(69),Y=n(70),Q=n(291),F=n(266),W=n(292),J=n(267),Z=n(276),V=n(293),X=n(277),_=n(275),$=n(296),ee=n(141),te=n.n(ee),ne=n(142),ae=n.n(ne),ce=n(143),re=n.n(ce),ie=n(144),se=n.n(ie);function oe(e){var t=e.openMetronomeConfig,n=e.closeMetronomeConfig,c=e.defaultBpm,r=Object(a.useState)(c),i=Object(h.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(4),u=Object(h.a)(l,2),d=u[0],b=u[1],O=Object(a.useState)(!1),x=Object(h.a)(O,2),p=x[0],g=x[1],f=Object(a.useState)(null),m=Object(h.a)(f,2),y=m[0],v=m[1],C=Math.max(250,c),S=Math.min(30,c),I=function(){clearInterval(y),v(null),g(!1)},P=function(){n(),I()};return Object(a.useEffect)((function(){if(p){var e=new Audio("data:audio/wav;base64,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"),t=new Audio("data:audio/wav;base64,UklGRnTeAABXQVZFZm10IBAAAAABAAIARKwAABCxAgAEABAAZGF0YQDeAADw/wQAAADd/+X/+P/4/9H/zf8jACMA/P/8/zsAOwDp/+z/NwA/APD/8P9WAFYA4wLvAlsIZwjPC8ALQBEkESUMtAvP6mrqyd4Y373jJuQT5HzkBeVr5R7kgOSM5O7kqeMH5HDk0uSd4wfkCeVn5bfkIOWkAGAB7h/+H2Ud/xwqHcwc/xylHMUgayCXIiEiUyfxJtwpUyn1L3wvnDPzMg09gDyYLCkrms9RzmGvCbCuvZW+Gb0Evv2/48Dpv9zAwcSkxa/FisYnyfrJYMgnyWrLLsy6yoXLlPHZ8qwjGiSKKTApkzEqMXM43zeGP94+uUHeQGJGm0X2SQNJpVHGUClXE1b4YP1fjU+RTTrbKtmQou6irKiXqW+jlKRyqLaphKvErF6zh7QQtSq2G7otu3G6g7spvyzAZr5gv5bnFel9IyIkoS5WLm45ADltQsFBo0nQSIRLjkpHT0hOEVMaUvpa8VmUYV9g4mrAaRxc9Fn+3ZTbjpbYlnWbg5yvlQeXEpyFnSqgkqFUqbSqEaxRrWCyjbMcszG0WbhjuUe3VbhB4O/hCCPQI+0xozHCPFE8BEZNRWNMgUsZThNNXlFsUOxV2lSPXYJcH2XbY5JtbWxjYjhgf+Dq3UiNc42DkbCSB4xvjQKTmZSMlxuZTaLRow6nbqiCrsev8K4VsJWzurRosn2zHdrW2wIi8SJINAk0UT7cPXhHuEbZTPZLzU6/Ta1RslDPVrVVEF4KXapmZmULbs9sj2ZvZDLkgeF/hp6G94lAi9mEXIYijNyN/JGnk+WegKDTpDOm7as+rdqrC604sGmxJ69MsALVxNZ/IIUh3jWgNQU/hD7tRypHf0ycS4tOhU0UUSJQAlfoVcZdtFw3Z/NlZ20ybHppbmf+6C7mOIIlgoOE24UBgIyB14eliQmPwJAYnbKeZ6PPpBCqYavtqRarLK5Zr5Ctua6z0H3Sex6gHzs3ADdQP8s+EUhJR8NL3Eo5TidNTVBKT79WsVUSXQRcN2fzZWtrGmrNZN1iKfKM76OTdJNTlnyXZpSvlZ2dKJ/0p2ipxrYTuLi+yr/QxMfFrMV3xn/IUsnfyZvKhNuS3LwCgAOPFa4V/h/bH4YnKCecKA8oWye+JgMmhiXwJ24nwypGKikvnS77MFswmS66LQsH6gUB2pvZusj4yO29ib5HwDnBAsrxysbVndam3Ebd099U4BLgg+Dx4GLhIuKT4snpUurF+z78QgdlB6UPrQ+yF4sX2hmLGZ4TKBPvAn4CEO7G7S/dPt3b1kXXxtdL2MfbQNxTzZnNVbruuum2zLdqtWG2Y7l1uvLDB8Vm2GnZOPIA8/QKWgtZG10b2SKTIlwk6yNVKPMnOjXJNJQ+7D3fRBBEpkq/SVVHO0YbM9Yx7Ai7Bz/UntPWrR2uAaPwoxiqZKv7tyy5MrYUt7Gsq604rl2vea+SsAK0KLVmvo+/ttPL1Izxe/IPEIwQwCW8JbIvTS/zMFMwUzKzMUU8rTtaRJNDv0nYSHlPh04WTvBMfDwoO2kUIROB3abcEbAdsP2e1J9KpJqlHrRutXi2arf4ru6vBLEZspqypLNwto63ZL92wN3R+tL17eDuTAzRDIUjjSPrLpUu2DA3MHQxyDAiOpU5yUEJQaVG0kUxTDpLvUyoS4Y/Qj5NHQ0cVupk6b+6nLp5pCWlgaa+p8K2B7hru1q8SbQ3tbS1wrYFt/e3E7odu8rB0MKD0YHSy+qq65AHHQgPHycfkitEK1ouyS2dLgwumjYGNtg9ET1WQoNBk0etRoxJikgLQN4+MyP6IXH1c/RIxvbFpawqrf+qEazsuSG7ur+lwPW4zbknuiG7Z7tOvLq9sL5nxFnFvdGw0j7oGelBA9IDoRrEGvAntSeaKw0rxSstKxczjjISOmI5Oj52PTlDZkLWRetEdz9lPiAn6yU+/jz9u9BO0N20N7UGsPCw9rwUvp/Db8QVvd29DL7zvnS/U8A1wRjCN8cZyBLT+NNz50Lo4wB7AQgYLxgHJswlqCorKpAqACrQLj8uvzMeM983KzdoPKU7RD9pPtk64znjJcokwADB/yXVrNRXt5m33q+5sKW5y7rgxN7FAsjJyDvJ88kMycTJmclYyjbO9c5T2BbZCOrE6o8BGALZFwgYGibrJRkrmCq/Kh8qZyvbKhgu"),n=0;clearInterval(y);var a=setInterval((function(){1!==(n+=1)&&e.play(),1===n&&t.play(),n===d&&(n=0)}),60/s*1e3);v(a)}}),[p,s,d]),Object(G.jsxs)(Q.a,{open:t,onClose:P,"aria-labelledby":"metronome-config","aria-describedby":"metronome-config",fullWidth:!0,children:[Object(G.jsx)(F.a,{id:"alert-dialog-title",children:"Metronome Configuration"}),Object(G.jsxs)(W.a,{children:[Object(G.jsxs)(J.a,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[Object(G.jsxs)(J.a,{direction:"row",alignItems:"flex-end",children:[Object(G.jsx)(A.a,{variant:"h4",children:s}),Object(G.jsx)(A.a,{ml:1,children:"BPM"})]}),p?Object(G.jsx)(j.a,{size:"large",onClick:I,children:Object(G.jsx)(ae.a,{fontSize:"large",color:"primary"})}):Object(G.jsx)(j.a,{size:"large",onClick:function(){g(!0)},children:Object(G.jsx)(te.a,{fontSize:"large",color:"primary"})})]}),Object(G.jsxs)(J.a,{direction:"row",alignItems:"center",mt:2,mb:4,children:[Object(G.jsx)(j.a,{onClick:function(){s>S&&o((function(e){return e-1}))},children:Object(G.jsx)(re.a,{color:"primary"})}),Object(G.jsx)(Z.a,{value:s,min:S,max:C,onChange:function(e,t){o(t)},"aria-label":"Default",valueLabelDisplay:"auto"}),Object(G.jsx)(j.a,{onClick:function(){s<C&&o((function(e){return e+1}))},children:Object(G.jsx)(se.a,{color:"primary"})})]}),Object(G.jsxs)(V.a,{children:[Object(G.jsx)(X.a,{id:"demo-simple-select-label",children:"Beats per measure"}),Object(G.jsxs)(_.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,label:"Beats per measure",onChange:function(e){b(e.target.value)},sx:{width:"200px"},children:[Object(G.jsx)(w.a,{value:2,children:"2/4"}),Object(G.jsx)(w.a,{value:3,children:"3/4"}),Object(G.jsx)(w.a,{value:4,children:"4/4"})]})]})]}),Object(G.jsx)($.a,{children:Object(G.jsx)(k.a,{onClick:P,color:"primary",children:"Close"})})]})}function le(){var e=Object(x.g)(),t=Object(a.useState)(!1),n=Object(h.a)(t,2),c=n[0],r=n[1],i=e.state.data;return Object(G.jsxs)(v.a,{display:"flex",justifyContent:"center",children:[Object(G.jsxs)(v.a,{width:{xs:.8,sm:.6},justifyContent:"center",py:5,children:[Object(G.jsxs)(I.a,{container:!0,spacing:4,children:[Object(G.jsxs)(I.a,{item:!0,container:!0,xs:12,sm:6,justifyContent:"center",children:[Object(G.jsx)("img",{src:i.image_url,style:{maxWidth:"300px"},alt:i.song_name}),Object(G.jsx)(A.a,{variant:"h6",children:i.album_name})]}),Object(G.jsxs)(I.a,{item:!0,container:!0,xs:12,sm:6,flexDirection:"column",justifyContent:"center",alignItems:{xs:"center",sm:"stretch"},children:[Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:i.artist}),Object(G.jsx)(A.a,{variant:"h4",children:i.song_name}),Object(G.jsx)(v.a,{py:3,children:Object(G.jsxs)("audio",{controls:!0,src:i.preview_url,children:["Your browser does not support the",Object(G.jsx)("code",{children:"audio"})," element."]})})]})]}),Object(G.jsxs)(I.a,{container:!0,spacing:4,mt:3,children:[Object(G.jsx)(I.a,{item:!0,xs:12,sm:6,align:"center",children:Object(G.jsx)(N.a,{onClick:function(){r(!0)},elevation:"5",sx:{":hover":{boxShadow:15},cursor:"pointer"},children:Object(G.jsxs)(v.a,{p:3,children:[Object(G.jsx)(q.a,{size:"3x",icon:Y.b}),Object(G.jsx)(v.a,{p:1,children:Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:"BPM"})}),Object(G.jsx)(A.a,{variant:"h4",children:Math.round(i.bpm)})]})})}),Object(G.jsx)(I.a,{item:!0,xs:12,sm:6,align:"center",children:Object(G.jsx)(N.a,{elevation:"5",children:Object(G.jsxs)(v.a,{p:3,children:[Object(G.jsx)(q.a,{size:"3x",icon:Y.c}),Object(G.jsx)(v.a,{p:1,children:Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:"KEY"})}),Object(G.jsxs)(A.a,{variant:"h4",children:[E[i.key]," ",M[i.mode]]})]})})}),Object(G.jsx)(I.a,{item:!0,xs:12,sm:6,align:"center",children:Object(G.jsx)(N.a,{elevation:"5",children:Object(G.jsxs)(v.a,{p:3,children:[Object(G.jsx)(q.a,{size:"3x",icon:Y.d}),Object(G.jsx)(v.a,{p:1,children:Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:"Danceability"})}),Object(G.jsx)(A.a,{variant:"h4",children:i.danceability})]})})}),Object(G.jsx)(I.a,{item:!0,xs:12,sm:6,align:"center",children:Object(G.jsx)(N.a,{elevation:"5",children:Object(G.jsxs)(v.a,{p:3,children:[Object(G.jsx)(q.a,{size:"3x",icon:Y.a}),Object(G.jsx)(v.a,{p:1,children:Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:"Energy"})}),Object(G.jsx)(A.a,{variant:"h4",children:i.energy})]})})})]})]}),Object(G.jsx)(oe,{openMetronomeConfig:c,closeMetronomeConfig:function(){r(!1)},defaultBpm:Math.round(i.bpm)})]})}var je=n(145),ue=n.n(je),de=Object(p.a)((function(e){return{footer:{backgroundColor:"#f0f3f4",width:"100%",textAlign:"center"},footerMain:{bottom:0}}}));function be(){var e=de();return Object(G.jsx)("div",{className:e.footerMain,children:Object(G.jsx)(v.a,{color:"primary",className:e.footer,children:Object(G.jsxs)(v.a,{p:10,children:[Object(G.jsxs)(I.a,{container:!0,direction:"column",alignItems:"center",alignContent:"center",spacing:2,children:[Object(G.jsx)(I.a,{item:!0,xs:12,children:Object(G.jsx)("img",{src:"".concat(T,"/favicon.svg"),height:"25",alt:"logo"})}),Object(G.jsx)(I.a,{item:!0,xs:12,children:Object(G.jsx)(o.a,{injectFirst:!0,children:Object(G.jsx)(l.a,{theme:ut,children:Object(G.jsx)(A.a,{variant:"h5",noWrap:!0,color:"primary",display:"inline",children:z})})})}),Object(G.jsx)(I.a,{item:!0,xs:12,children:Object(G.jsx)(j.a,{"aria-label":"show 17 new notifications",color:"inherit",onClick:function(){window.open("https://github.com/ooyamatakehisa/bpm-searcher","_blank")},size:"large",children:Object(G.jsx)(ue.a,{})})})]}),Object(G.jsx)(v.a,{p:2,children:Object(G.jsx)(A.a,{children:"\xa9 Takehisa Oyama. All rights reserved."})})]})})})}var he=n(298),Oe=n(146),xe=n.n(Oe);g.a.initializeApp({apiKey:"AIzaSyAmi32aEPLYTvsGmgT5DWxGHJGhs19KBhY",authDomain:"bpm-searcher.firebaseapp.com",projectId:"bpm-searcher",storageBucket:"bpm-searcher.appspot.com",messagingSenderId:"380948537710",appId:"1:380948537710:web:37f78017daaee0abe3617f"});var pe={signInFlow:"popup",signInSuccessUrl:"/",signInOptions:[g.a.auth.GoogleAuthProvider.PROVIDER_ID,g.a.auth.FacebookAuthProvider.PROVIDER_ID]};function ge(){return Object(G.jsx)("div",{children:Object(G.jsx)(xe.a,{uiConfig:pe,firebaseAuth:g.a.auth()})})}function fe(e){var t=e.signInDialogOpen,n=e.closeSignInDialog;return Object(G.jsxs)(Q.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(F.a,{id:"alert-dialog-title",children:"Sign In / Sign Up"}),Object(G.jsxs)(W.a,{children:[Object(G.jsx)(he.a,{id:"alert-dialog-description",children:"You can create playlists and save songs to it if you sign in this system. You can also sync the playlists with Spotify playlists in future."}),Object(G.jsx)(v.a,{p:2,children:Object(G.jsx)(ge,{})}),Object(G.jsxs)(he.a,{children:[z," uses the Firebase Authentication as login service and does not have any user information on its server."]})]}),Object(G.jsx)($.a,{children:Object(G.jsx)(k.a,{onClick:n,color:"primary",children:"Close"})})]})}function me(e){var t=e.searchValue;return Object(G.jsxs)(I.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:[Object(G.jsx)(v.a,{p:6,children:Object(G.jsx)(q.a,{size:"5x",icon:Y.e})}),Object(G.jsx)(v.a,{pb:10,children:Object(G.jsxs)(A.a,{variant:"h6",children:["No results found for ",Object(G.jsx)("b",{children:t})]})})]})}var ye=n(299);function ve(){return Object(G.jsx)(I.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(v.a,{p:20,children:Object(G.jsx)(ye.a,{})})})}var Ae=n(287),ke=n(32),Ce=n(148),Se=n.n(Ce),we=Object(p.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center",height:55},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4}}}));function Ie(){var e=we(),t=Object(x.f)(),n=Object(x.g)(),c=Object(a.useState)(""),r=Object(h.a)(c,2),i=r[0],s=r[1];Object(a.useEffect)((function(){var e=new URLSearchParams(n.search);null!==e.get("search")&&s(e.get("search"))}),[n]);var o=function(){""!==i&&t.push({pathname:"/track",search:"?search=".concat(i)})};return Object(G.jsx)(I.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(G.jsx)(v.a,{py:4,width:{xs:.9,sm:.7,xl:.4},children:Object(G.jsxs)(Ae.a,{className:e.root,children:[Object(G.jsx)(ke.c,{className:e.input,placeholder:"Search Songs or Artists",inputProps:{"aria-label":"search songs or artists"},value:i,onChange:function(e){s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&o()}}),Object(G.jsx)(j.a,{type:"submit",className:e.iconButton,onClick:o,"aria-label":"search",size:"large",children:Object(G.jsx)(Se.a,{})})]})})})}var Pe=n(24),De=n.n(Pe),Be=n(39),Le=n(149),Ue=n.n(Le),Ee=n(300),Me=n(301),ze=n(302),Te=n(303),Re=n(304),Ge=n(305),He=n(40),Ke=n.n(He),Ne=n(278);function qe(e){var t=e.openCreatePlaylistDialog,n=e.setOpenCreatePlaylistDialog,c=e.onClickCompleteCallback,r=Object(a.useState)(""),i=Object(h.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),j=Object(h.a)(l,2),u=j[0],d=j[1],O=Object(b.b)().enqueueSnackbar,x=function(e){return function(t){e(t.target.value)}};return Object(G.jsx)("div",{children:Object(G.jsxs)(Q.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(F.a,{id:"alert-dialog-title",children:"Create a New Playlist and Add the Song"}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(he.a,{id:"alert-dialog-description",children:[Object(G.jsx)(v.a,{py:1,children:Object(G.jsx)(Ne.a,{id:"outlined-basic",label:"Name",variant:"outlined",value:s,onChange:x(o),required:!0,fullWidth:!0})}),Object(G.jsx)(v.a,{py:1,children:Object(G.jsx)(Ne.a,{id:"outlined-multiline-static",label:"Description",value:u,onChange:x(d),multiline:!0,fullWidth:!0,rows:4})}),"You can check the playlist by clicking the icon button in the upper right corner."]})}),Object(G.jsx)($.a,{children:Object(G.jsx)(k.a,{onClick:function(){Object(Be.a)(De.a.mark((function e(){var t,a,r,i,l,j;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),e.next=3,g.a.auth().currentUser;case 3:return t=e.sent,e.next=6,t.getIdToken(!1);case 6:return a=e.sent,r={name:s,desc:u},i={headers:{Authorization:"Bearer ".concat(a)}},e.prev=9,e.next=12,Ke.a.post("".concat(R,"/user/").concat(t.uid,"/playlist"),r,i);case 12:l=e.sent,j=l.data,void 0!==c&&c(j),o(""),d(""),O('The playlist "'.concat(j.name,'" is created !')),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[9,20]])})))()},autoFocus:!0,children:"COMPLETE"})})]})})}var Ye=Object(p.a)({row:{cursor:"pointer"}});function Qe(e){var t=e.isSignedIn,n=e.setSignInDialogOpen,c=e.result,r=e.ranking,i=e.title,s=Object(x.f)(),o=Ye(),l=Object(a.useState)(!1),u=Object(h.a)(l,2),d=u[0],O=u[1],p=Object(a.useState)([]),f=Object(h.a)(p,2),m=f[0],y=f[1],k=Object(a.useState)({}),C=Object(h.a)(k,2),I=C[0],D=C[1],B=Object(a.useState)(null),L=Object(h.a)(B,2),U=L[0],E=L[1],M=Boolean(U),z=Object(b.b)().enqueueSnackbar,T=function(){E(null)},H=function(e,t){s.push("/track/".concat(e),{data:t})},K=function(e){Object(Be.a)(De.a.mark((function t(){var n,a,c,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.auth().currentUser;case 2:return n=t.sent,t.next=5,n.getIdToken(!1);case 5:a=t.sent,c={kind:"track",spotify_id:I.spotify_id},r={headers:{Authorization:"Bearer ".concat(a)}};try{Ke.a.put("".concat(R,"/user/").concat(n.uid,"/playlist/").concat(e),c,r).then((function(e){z('"'.concat(I.song_name," (").concat(I.artist,')" is added to your playlist !'))})).catch((function(e){return console.log(e)}))}catch(i){console.log(i)}case 9:case"end":return t.stop()}}),t)})))()};return Object(a.useEffect)((function(){Object(Be.a)(De.a.mark((function e(){var n,a,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,g.a.auth().currentUser;case 3:return n=e.sent,e.next=6,n.getIdToken(!1);case 6:a=e.sent,c={headers:{Authorization:"Bearer ".concat(a)}},Ke.a.get("".concat(R,"/user/").concat(n.uid,"/playlist"),c).then((function(e){y(e.data)})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})))()}),[t]),Object(G.jsxs)(v.a,{width:1,display:"flex",justifyContent:"center",children:[Object(G.jsxs)(v.a,{width:{xs:.9,sm:.8,xl:.5},justifyContent:"center",children:[Object(G.jsx)(v.a,{m:2,children:Object(G.jsx)(A.a,{variant:"h5",children:i})}),Object(G.jsx)(Ee.a,{children:Object(G.jsxs)(Me.a,{"aria-label":"simple table",children:[Object(G.jsx)(ze.a,{children:Object(G.jsxs)(Te.a,{children:[Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0,children:"SONG"})}),r&&Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0})}),Object(G.jsx)(Re.a,{}),Object(G.jsx)(Re.a,{width:"15%",align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0,children:"BPM"})}),Object(G.jsx)(Re.a,{width:"15%",align:"center",children:"SAVE"})]})}),Object(G.jsx)(Ge.a,{children:c.map((function(e,a){return Object(G.jsxs)(Te.a,{className:o.row,hover:!0,children:[Object(G.jsx)(Re.a,{align:"center",onClick:function(){return H(e.spotify_id,e)},children:Object(G.jsx)("img",{src:e.image_url,height:"100",alt:e.song_name})}),r&&Object(G.jsx)(Re.a,{align:"center",onClick:function(){return H(e.spotify_id,e)},children:Object(G.jsx)(A.a,{variant:"h6",gutterBottom:!0,children:a+1})}),Object(G.jsxs)(Re.a,{onClick:function(){return H(e.spotify_id,e)},children:[Object(G.jsx)(A.a,{variant:"h6",children:Object(G.jsx)(v.a,{fontWeight:"fontWeightMedium",children:e.song_name})}),Object(G.jsx)("div",{children:e.artist})]}),Object(G.jsx)(Re.a,{align:"center",onClick:function(){return H(e.spotify_id,e)},children:Object(G.jsx)(A.a,{variant:"h5",gutterBottom:!0,children:Math.round(e.bpm)})}),Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(j.a,{onClick:(c=e,function(e){t?(D(c),E(e.currentTarget)):n()}),size:"large","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":M?"true":void 0,children:Object(G.jsx)(Ue.a,{color:"primary",fontSize:"medium"})})})]},e.spotify_id);var c}))})]})})]}),Object(G.jsxs)(S.a,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:U,open:M,onClose:T,PaperProps:{style:{maxHeight:450,width:"20ch"}},children:[Object(G.jsx)(w.a,{onClick:function(){return O(!0),void T()},children:"Create a New Playlist"},"create playlist"),0!==m.length&&Object(G.jsx)(P.a,{}),m.map((function(e){return Object(G.jsx)(w.a,{onClick:function(){return t=e.id,T(),void K(t);var t},children:e.name},e.id)}))]}),Object(G.jsx)(qe,{openCreatePlaylistDialog:d,setOpenCreatePlaylistDialog:O,onClickCompleteCallback:function(e){O(!1),y((function(t){return t.push(e),t})),K(e.id)}})]})}function Fe(e){var t=e.isSignedIn,n=e.setSignInDialogOpen,c=Object(a.useState)(""),r=Object(h.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)([]),l=Object(h.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(h.a)(d,2),O=b[0],p=b[1],g=Object(x.g)();return Object(a.useEffect)((function(){var e=new URLSearchParams(g.search);p(!1),s(e.get("search"));fetch("".concat(R,"/track?search=").concat(e.get("search")),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(404===e.status)throw u([]),p(!0),new Error(e.statusText);return e.json()})).then((function(e){u(e),p(!0)})).catch((function(e){return console.log(e)}))}),[g]),Object(G.jsxs)("div",{children:[Object(G.jsx)(Ie,{}),!O&&Object(G.jsx)(ve,{}),O&&0!==j.length&&Object(G.jsx)(Qe,{isSignedIn:t,setSignInDialogOpen:n,result:j,ranking:!1,title:'Search Results for "'.concat(i,'"')}),O&&0===j.length&&Object(G.jsx)(me,{searchValue:i})]})}function We(e){var t=e.isSignedIn,n=e.setSignInDialogOpen,c=Object(a.useState)([]),r=Object(h.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){fetch("".concat(R,"/ranking")).then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log(e)}))}),[]),Object(G.jsxs)("div",{children:[Object(G.jsx)(Ie,{}),0===i.length&&Object(G.jsx)(ve,{}),0!==i.length&&Object(G.jsx)(Qe,{isSignedIn:t,setSignInDialogOpen:n,result:i,ranking:!0,title:"Spotify Top Chart"})]})}var Je=n(18),Ze=n(306),Ve=n(307),Xe=n(308),_e=n(269),$e=n(270);function et(){return Object(G.jsx)(v.a,{width:1,display:"flex",justifyContent:"center",children:Object(G.jsxs)(v.a,{width:.8,py:10,justifyContent:"center",children:[Object(G.jsx)(v.a,{p:1,children:Object(G.jsxs)(A.a,{variant:"h6",color:"text.secondary",children:["You have to sign in so that you can access this information.",Object(G.jsx)("br",{})]})}),Object(G.jsx)(v.a,{p:1,children:Object(G.jsxs)(A.a,{variant:"h6",color:"text.secondary",children:["Please click the ",Object(G.jsx)(k.a,{variant:"contained",children:"SIGN IN"})," button in the upper right corner to sign in."]})})]})})}function tt(e){var t=e.isSignedIn,n=e.isLoadingSignIn,r=Object(a.useState)([]),i=Object(h.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!0),u=Object(h.a)(l,2),d=u[0],O=u[1],p=Object(a.useState)(!1),f=Object(h.a)(p,2),m=f[0],y=f[1],C=Object(a.useState)(!1),S=Object(h.a)(C,2),w=S[0],D=S[1],B=c.a.useState(null),L=Object(h.a)(B,2),U=L[0],E=L[1],M=Object(a.useState)(!1),z=Object(h.a)(M,2),T=z[0],H=z[1],K=Object(b.b)().enqueueSnackbar,q=Object(x.f)(),Y=Object(x.h)().uid;Object(a.useEffect)((function(){Object(Be.a)(De.a.mark((function e(){var n,a,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,g.a.auth().currentUser;case 3:return n=e.sent,e.next=6,n.getIdToken(!1);case 6:a=e.sent,c={headers:{Authorization:"Bearer ".concat(a)}},Ke.a.get("".concat(R,"/user/").concat(n.uid,"/playlist"),c).then((function(e){o(e.data),O(!1),y(0===e.data.length)})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})))()}),[t,Y]);var J=function(e){return function(t){t.stopPropagation(),H(!0),E(e)}},Z=function(e){return function(){q.push("/user/".concat(Y,"/playlist/").concat(e.id))}};return n||d?Object(G.jsx)(ve,{}):t?Object(G.jsxs)(v.a,{width:1,display:"flex",justifyContent:"center",children:[Object(G.jsxs)(v.a,{width:.8,py:10,justifyContent:"center",children:[Object(G.jsx)(v.a,{pb:5,children:Object(G.jsx)(k.a,{variant:"outlined",startIcon:Object(G.jsx)(_e.a,{}),onClick:function(){return D(!0)},children:"Create Playlist"})}),m&&Object(G.jsxs)(A.a,{variant:"body1",color:"text.secondary",children:["There is no playlist. ",Object(G.jsx)("br",{}),'You can create a playlist from "CREATE PlAYLIST" button above.']}),!m&&Object(G.jsx)(I.a,{container:!0,direction:"row",alignItems:"center",alignContent:"center",spacing:2,width:1,children:s.map((function(e,t){return Object(G.jsx)(I.a,{item:!0,xs:12,sm:3,xl:2,children:Object(G.jsxs)(N.a,{onClick:Z(e),style:{cursor:"pointer"},children:[Object(G.jsx)(Ze.a,{action:Object(G.jsx)(j.a,{"aria-label":"settings",onClick:J(t),children:Object(G.jsx)($e.a,{})}),title:e.name,subheader:"".concat(e.num_tracks," songs")}),null!=e.image_url&&Object(G.jsx)(Ve.a,{component:"img",image:e.image_url,alt:e.name}),Object(G.jsxs)(Xe.a,{children:[Object(G.jsx)(A.a,{variant:"body1",color:"text.secondary",children:e.desc}),Object(G.jsx)(P.a,{}),Object(G.jsxs)(A.a,{variant:"body2",color:"text.secondary",children:[Object(G.jsx)("br",{}),"Created at"]}),Object(G.jsx)(A.a,{variant:"body2",color:"text.secondary",children:e.created_at})]})]})},e.id)}))})]}),Object(G.jsx)(qe,{openCreatePlaylistDialog:w,setOpenCreatePlaylistDialog:D,onClickCompleteCallback:function(e){o((function(t){var n=Object(Je.a)(t);return n.push(e),n}))}}),Object(G.jsxs)(Q.a,{open:T,onClose:function(){return H(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(F.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this playlist ?"}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(he.a,{id:"alert-dialog-description",children:["All tracks and infomation of this playlist will be permanently deleted.",Object(G.jsx)("br",{}),"Are you sure you want to delete this playlist ?"]})}),Object(G.jsx)($.a,{children:Object(G.jsx)(k.a,{onClick:function(){var e=s[U];Object(Be.a)(De.a.mark((function t(){var n,a,c;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.auth().currentUser,t.next=3,n.getIdToken(!1);case 3:a=t.sent,c={headers:{Authorization:"Bearer ".concat(a)}},Ke.a.delete("".concat(R,"/user/").concat(n.uid,"/playlist/").concat(e.id),c).then((function(t){s.splice(U,1),o((function(e){return Object(Je.a)(e)})),y(0===s.length),K('"'.concat(e.name,'" is romoved from your playlist list !')),H(!1)})).catch((function(e){return console.log(e)}));case 6:case"end":return t.stop()}}),t)})))()},autoFocus:!0,children:"DELETE"})})]})]}):Object(G.jsx)(et,{})}var nt=n(46),at=n(101),ct=n(271);function rt(e){var t=e.openUpdatePlaylistDialog,n=e.setOpenUpdatePlaylistDialog,c=e.playlistInfo,r=e.onClickCompleteCallback,i=Object(a.useState)(c.name),s=Object(h.a)(i,2),o=s[0],l=s[1],j=Object(a.useState)(c.desc),u=Object(h.a)(j,2),d=u[0],O=u[1],x=Object(b.b)().enqueueSnackbar,p=function(e){return function(t){e(t.target.value)}};return Object(G.jsx)("div",{children:Object(G.jsxs)(Q.a,{open:t,onClose:function(){return n(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(G.jsx)(F.a,{id:"alert-dialog-title",children:"Update the playlist name and description"}),Object(G.jsx)(W.a,{children:Object(G.jsxs)(he.a,{id:"alert-dialog-description",children:[Object(G.jsx)(v.a,{py:1,children:Object(G.jsx)(Ne.a,{id:"outlined-basic",label:"Name",variant:"outlined",value:o,onChange:p(l),required:!0,fullWidth:!0})}),Object(G.jsx)(v.a,{py:1,children:Object(G.jsx)(Ne.a,{id:"outlined-multiline-static",label:"Description",value:d,onChange:p(O),multiline:!0,fullWidth:!0,rows:4})}),"You can check the playlist by clicking the icon button in the upper right corner."]})}),Object(G.jsx)($.a,{children:Object(G.jsx)(k.a,{onClick:function(){Object(Be.a)(De.a.mark((function e(){var t,a,i,s,j,u;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),e.next=3,g.a.auth().currentUser;case 3:return t=e.sent,e.next=6,t.getIdToken(!1);case 6:return a=e.sent,i={name:o,desc:d},s={headers:{Authorization:"Bearer ".concat(a)}},e.prev=9,e.next=12,Ke.a.patch("".concat(R,"/user/").concat(t.uid,"/playlist/").concat(c.id,"/info"),i,s);case 12:j=e.sent,u=j.data,void 0!==r&&r(u),l(o),O(d),x('The playlist "'.concat(u.name,'" is updated !')),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[9,20]])})))()},autoFocus:!0,children:"COMPLETE"})})]})})}var it=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center"}}}));function st(e){var t=e.isSignedIn,n=e.isLoadingSignIn,c=Object(a.useState)([]),r=Object(h.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)({}),l=Object(h.a)(o,2),u=l[0],d=l[1],O=Object(a.useState)(!0),p=Object(h.a)(O,2),f=p[0],m=p[1],y=Object(a.useState)(!1),k=Object(h.a)(y,2),C=k[0],S=k[1],w=Object(x.f)(),D=it(),B=Object(b.b)().enqueueSnackbar,L=Object(x.h)().playlistId;Object(a.useEffect)((function(){Object(Be.a)(De.a.mark((function e(){var n,a,c;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.next=3,g.a.auth().currentUser;case 3:return n=e.sent,e.next=6,n.getIdToken(!1);case 6:a=e.sent,c={headers:{Authorization:"Bearer ".concat(a)}},Ke.a.get("".concat(R,"/user/").concat(n.uid,"/playlist/").concat(L),c).then((function(e){s(e.data.playlist_tracks),d(e.data.playlist_info),m(!1)})).catch((function(e){return console.log(e)}));case 9:case"end":return e.stop()}}),e)})))()}),[t,L]);var U=function(e){return null==e?"":e.split(" ").slice(0,4).join(" ")},E=function(e,t){w.push("/track/".concat(e),{data:t})};return n||f?Object(G.jsx)(ve,{}):t?Object(G.jsxs)(v.a,{width:1,display:"flex",justifyContent:"center",children:[Object(G.jsx)(v.a,{width:{xs:.9,sm:.8,xl:.5},justifyContent:"center",p:5,children:Object(G.jsxs)(I.a,{container:!0,spacing:8,children:[Object(G.jsx)(I.a,{item:!0,xs:12,sm:3,align:"center",children:Object(G.jsxs)(I.a,{container:!0,direction:"column",spacing:4,children:[Object(G.jsx)(I.a,{item:!0,xs:12,sm:6,align:"center",children:Object(G.jsx)(v.a,{width:"100%",children:Object(G.jsx)("img",{src:u.image_url,width:"100%",style:{maxWidth:"300px"},alt:u.name})})}),Object(G.jsxs)(I.a,{item:!0,xs:12,sm:6,className:D.root,children:[Object(G.jsxs)(v.a,{onClick:function(){return S(!0)},style:{cursor:"pointer"},children:[Object(G.jsx)(A.a,{variant:"h4",children:u.name}),Object(G.jsx)(A.a,{variant:"h5",color:"textSecondary",children:u.desc})]}),Object(G.jsx)(v.a,{py:2,children:Object(G.jsx)(P.a,{})}),Object(G.jsxs)(A.a,{variant:"body2",color:"textSecondary",children:[u.num_tracks," songs",Object(G.jsx)("br",{}),"Updated at ",U(u.created_at),Object(G.jsx)("br",{}),"Updated at ",U(u.updated_at)]})]})]})}),Object(G.jsx)(I.a,{item:!0,xs:12,sm:9,align:"center",children:Object(G.jsx)(Ee.a,{children:Object(G.jsxs)(Me.a,{children:[Object(G.jsx)(ze.a,{children:Object(G.jsxs)(Te.a,{children:[Object(G.jsx)(Re.a,{align:"center"}),Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0,children:"SONG"})}),Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0})}),Object(G.jsx)(Re.a,{}),Object(G.jsx)(Re.a,{width:"15%",align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0,children:"BPM"})}),Object(G.jsx)(Re.a,{width:"15%",align:"center",children:Object(G.jsx)(A.a,{variant:"subtitle1",gutterBottom:!0,children:"DELETE"})})]})}),Object(G.jsx)(at.a,{onDragEnd:function(e,t){e.destination&&e.destination.index!==e.source.index&&(s((function(t){var n=Object(Je.a)(t),a=e.source.index,c=e.destination.index;return n.splice(a,1),n.splice(c,0,t[a]),d((function(e){return e.image_url=n[0].track.image_url,e})),n})),Object(Be.a)(De.a.mark((function t(){var n,a,c,r;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.auth().currentUser,t.next=3,n.getIdToken(!1);case 3:a=t.sent,c={headers:{Authorization:"Bearer ".concat(a)}},r={orderFrom:e.source.index+1,orderTo:e.destination.index+1},Ke.a.patch("".concat(R,"/user/").concat(n.uid,"/playlist/").concat(L,"/track"),r,c).catch((function(e){return console.log(e)}));case 7:case"end":return t.stop()}}),t)})))())},children:Object(G.jsx)(at.c,{droppableId:"droppable",direction:"vertical",children:function(e){return Object(G.jsxs)(Ge.a,Object(nt.a)(Object(nt.a)({ref:e.innerRef},e.droppableProps),{},{children:[i.map((function(e,t){return Object(G.jsx)(at.b,{draggableId:e.id,index:t,children:function(n,a){return Object(G.jsxs)(Te.a,Object(nt.a)(Object(nt.a)({hover:!0,ref:n.innerRef},n.draggableProps),{},{style:Object(nt.a)(Object(nt.a)({},n.draggableProps.style),{},{cursor:"pointer"}),children:[Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)("div",Object(nt.a)(Object(nt.a)({},n.dragHandleProps),{},{children:Object(G.jsx)(ct.a,{})}))}),Object(G.jsx)(Re.a,{align:"center",onClick:function(){return E(e.track.spotify_id,e.track)},children:Object(G.jsx)("img",{src:e.track.image_url,height:"100",alt:e.track.song_name})}),Object(G.jsx)(Re.a,{align:"center",onClick:function(){return E(e.track.spotify_id,e.track)},children:Object(G.jsx)(A.a,{variant:"h6",gutterBottom:!0,children:t+1})}),Object(G.jsxs)(Re.a,{align:"left",onClick:function(){return E(e.track.spotify_id,e.track)},children:[Object(G.jsx)(A.a,{variant:"h6",children:Object(G.jsx)(v.a,{fontWeight:"fontWeightMedium",children:e.track.song_name})}),Object(G.jsx)("div",{children:e.track.artist})]}),Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(A.a,{variant:"h5",gutterBottom:!0,children:Math.round(e.track.bpm)})}),Object(G.jsx)(Re.a,{align:"center",children:Object(G.jsx)(j.a,{onClick:function(){return function(e,t){Object(Be.a)(De.a.mark((function n(){var a,c,r;return De.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=g.a.auth().currentUser,n.next=3,a.getIdToken(!1);case 3:c=n.sent,r={headers:{Authorization:"Bearer ".concat(c)}},Ke.a.delete("".concat(R,"/user/").concat(a.uid,"/playlist/").concat(L,"/track/").concat(e.id),r).then((function(n){i.splice(t,1),s((function(e){return Object(Je.a)(e)})),d(Object(nt.a)(Object(nt.a)({},u),{},{num_tracks:u.num_tracks-1,image_url:i.length>0?i[0].track.image_url:null})),B('"'.concat(e.track.song_name," (").concat(e.track.artist,')" is romoved from your playlist !'))})).catch((function(e){return console.log(e)}));case 6:case"end":return n.stop()}}),n)})))()}(e,t)},children:Object(G.jsx)($e.a,{})})})]}))}},e.id)})),e.placeholder]}))}})})]})})})]})}),Object(G.jsx)(rt,{openUpdatePlaylistDialog:C,setOpenUpdatePlaylistDialog:S,playlistInfo:u,onClickCompleteCallback:d})]}):Object(G.jsx)(et,{})}var ot=Object(p.a)((function(e){return{pageContainer:{display:"flex",flexDirection:"column",minHeight:"100vh"},contentWrap:{flex:1}}}));function lt(){var e=ot(),t=Object(a.useState)(!1),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!0),o=Object(h.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(!1),d=Object(h.a)(u,2),p=d[0],f=d[1],m=c.a.useState(!1),y=Object(h.a)(m,2),v=y[0],A=y[1],k=Object(b.b)().enqueueSnackbar;return Object(a.useEffect)((function(){g.a.auth().onAuthStateChanged((function(e){e?(k("Sign In !"),i(!0),f(e)):(i(!1),f({})),j(!1)}))}),[k]),Object(G.jsxs)("div",{className:e.pageContainer,children:[Object(G.jsx)("div",{className:e.contentWrap,children:Object(G.jsxs)(O.a,{children:[Object(G.jsx)(K,{isSignedIn:r,user:p,setSignInDialogOpen:function(){return A(!0)},signOut:function(){k("Sign Out !"),g.a.auth().signOut()}}),Object(G.jsxs)(x.c,{children:[Object(G.jsx)(x.a,{path:"/",exact:!0,children:Object(G.jsx)(We,{isSignedIn:r,setSignInDialogOpen:function(){return A(!0)}})}),Object(G.jsx)(x.a,{path:"/track",exact:!0,children:Object(G.jsx)(Fe,{isSignedIn:r,setSignInDialogOpen:function(){return A(!0)}})}),Object(G.jsx)(x.a,{path:"/user/:uid/playlist",exact:!0,children:Object(G.jsx)(tt,{isSignedIn:r,isLoadingSignIn:l})}),Object(G.jsx)(x.a,{path:"/user/:uid/playlist/:playlistId",children:Object(G.jsx)(st,{isSignedIn:r,isLoadingSignIn:l})}),Object(G.jsx)(x.a,{path:"/track/:spotify_id",children:Object(G.jsx)(le,{})})]})]})}),Object(G.jsx)(be,{}),Object(G.jsx)(fe,{signInDialogOpen:v,closeSignInDialog:function(){A(!1)}})]})}var jt=Object(s.a)({palette:{primary:{main:"#da0047",contrastText:"#fff"},secondary:{main:"#ffffff",contrastText:"#a0a0a0"},textSecondary:{main:"#a0a0a0",contrastText:"#a0a0a0"}},typography:{fontFamily:["Lato","Raleway"].join(",")}}),ut=Object(s.a)({palette:{primary:{main:"#da0047",contrastText:"#fff"}},typography:{fontFamily:["Bowlby One SC"].join(",")}});var dt=function(){var e=c.a.createRef(),t=function(t){return function(){e.current.closeSnackbar(t)}};return Object(G.jsx)(o.a,{injectFirst:!0,children:Object(G.jsx)(l.a,{theme:jt,children:Object(G.jsx)(b.a,{maxSnack:3,ref:e,action:function(e){return Object(G.jsx)(j.a,{"aria-label":"close",onClick:t(e),color:"secondary",children:Object(G.jsx)(d.a,{})})},children:Object(G.jsx)(lt,{})})})})},bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,310)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(dt,{})}),document.getElementById("root")),bt()}},[[211,1,2]]]);
//# sourceMappingURL=main.8dac2780.chunk.js.map