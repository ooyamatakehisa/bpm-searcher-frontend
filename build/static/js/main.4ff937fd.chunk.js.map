{"version":3,"sources":["constant.js","Header.js","SongDetail.js","Footer.js","SignIn.js","SignInDialog.js","NoResult.js","Loading.js","SearchBox.js","MySnackbar.js","SearchResult.js","Content.js","Ranking.js","Playlist.js","DraggableTable.js","App.js","reportWebVitals.js","index.js"],"names":["KEY_DICT","MODE_DICT","APP_NAME","BASE_URL","API_BASE_URL","useStyles","makeStyles","theme","grow","flexGrow","menu","textAlign","alignItems","alignContent","justifyContent","display","alignSelf","title","breakpoints","up","logo","cursor","inputRoot","color","inputInput","padding","spacing","paddingLeft","transition","transitions","create","width","Header","props","classes","history","useHistory","React","useState","anchorEl","setAnchorEl","handleClose","onClickAppBar","push","className","AppBar","position","Toolbar","Box","pr","onClick","src","height","alt","StyledEngineProvider","injectFirst","ThemeProvider","themeLogo","Typography","variant","noWrap","isSignedIn","px","Button","setSignInDialogOpen","style","fontWeight","IconButton","event","currentTarget","Avatar","user","displayName","photoURL","Menu","open","Boolean","onClose","PaperProps","elevation","sx","overflow","filter","mt","ml","mr","content","top","right","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","MenuItem","Grid","container","item","p","email","Divider","uid","ListItemIcon","fontSize","signOut","Logout","image","shadowColor","shadowOffset","shadowOpacity","shadowRadius","root","flexDirection","SongDetail","location","useLocation","data","state","xs","sm","align","image_url","maxWidth","song_name","album_name","artist","py","controls","preview_url","Card","size","icon","faDrum","Math","round","bpm","faGuitar","key","mode","faHeadphones","danceability","faCompactDisc","energy","footer","backgroundColor","footerMain","bottom","Footer","direction","window","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","uiConfig","signInFlow","signInSuccessUrl","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","SignIn","firebaseAuth","SignInDialog","signInDialogOpen","closeSignInDialog","Dialog","DialogTitle","id","DialogContent","DialogContentText","DialogActions","NoResult","searchValue","faMicrophoneAltSlash","pb","Loading","CircularProgress","input","marginLeft","flex","iconButton","divider","margin","SearchBox","inputValue","setInputValue","useEffect","query","URLSearchParams","search","get","getBpms","pathname","Paper","InputBase","placeholder","inputProps","value","onChange","e","target","onKeyPress","type","MySnackbar","snackbarOpen","setSnackbarOpen","message","closeSnackbar","reason","Snackbar","autoHideDuration","action","Fragment","row","result","ranking","openCreatePlaylistDialog","setOpenCreatePlaylistDialog","playlistInfos","setPlaylistInfos","clickedTrack","setClickedTrack","snackbarMessage","setSnackbarMessage","newPlaylistName","setNewPlaylistName","newPlaylistDescription","setNewPlaylistDescription","handleLink","path","handleTextfiledChange","set","a","currentUser","getIdToken","id_token","config","headers","Authorization","axios","then","catch","err","console","log","m","TableContainer","Table","TableHead","TableRow","TableCell","gutterBottom","TableBody","map","index","hover","spotify_id","track","undefined","MenuListProps","maxHeight","ITEM_HEIGHT","length","playlist","playlist_id","body","kind","put","name","TextField","label","required","fullWidth","multiline","rows","desc","post","playlistInfo","prev","autoFocus","Content","setSearchValue","setResult","isResponded","setIsResponded","fetch","method","response","status","Error","statusText","json","Playlist","isLoading","setIsLoading","playlistIdxForDeletion","setPlaylistIdxForDeletion","openDeletePlaylistDialog","setOpenDeletePlaylistDialog","useParams","openDeleteDialog","stopPropagation","onClickPlaylist","CardHeader","DeleteSweep","subheader","num_tracks","CardMedia","component","CardContent","created_at","delete","splice","DraggableTable","playlistTracks","setplaylistTracks","setPlaylistInfo","playlistId","playlist_tracks","playlist_info","datetime2date","datetime","split","slice","join","updated_at","onDragEnd","provided","destination","source","temp","sourceIdx","destinationIdx","orderFrom","orderTo","patch","droppableId","droppableProvided","ref","innerRef","droppableProps","plyalistTrack","draggableId","draggableProvided","snapshot","draggableProps","dragHandleProps","Reorder","playlistTrack","deleteTrack","createTheme","palette","primary","main","contrastText","secondary","textSecondary","typography","fontFamily","pageContainer","minHeight","contentWrap","App","setIsSignedIn","setUser","onAuthStateChanged","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4ff937fd.chunk.js","sourcesContent":["export const KEY_DICT = [\n    \"C\",\n    \"C#\",\n    \"D\",\n    \"D#\",\n    \"E\",\n    \"F\",\n    \"F#\",\n    \"G\",\n    \"G#\",\n    \"A\",\n    \"A#\",\n    \"B\"\n]\n\nexport const MODE_DICT = [\n    \"Minor\",\n    \"Major\"\n]\n\nexport const APP_NAME = \"BPM Searcher\"\n// export const BASE_URL = \"http://localhost:8000\"\nexport const BASE_URL = \"https://bpm-searcher.herokuapp.com\"\nexport const API_BASE_URL = `${BASE_URL}/api/v1`\n","import React from \"react\";\nimport {\n  AppBar,\n  Avatar,\n  Box,\n  Button,\n  Divider,\n  Grid,\n  IconButton,\n  Menu,\n  MenuItem,\n  Toolbar,\n  Typography,\n  ListItemIcon,\n} from \"@mui/material\";\nimport { useHistory } from \"react-router-dom\";\nimport { ThemeProvider, StyledEngineProvider } from \"@mui/material/styles\";\nimport { Logout } from \"@mui/icons-material\";\nimport PlaylistPlayIcon from \"@mui/icons-material/PlaylistPlay\";\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { themeLogo } from \"./App\";\nimport { APP_NAME, BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  grow: {\n    flexGrow: 1,\n  },\n  menu: {\n    textAlign: \"center\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    display: \"flex\",\n    alignSelf: \"center\",\n  },\n  title: {\n    display: \"none\",\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"block\",\n    },\n    cursor: \"pointer\",\n  },\n  logo: {\n    cursor: \"pointer\",\n  },\n  inputRoot: {\n    color: \"inherit\",\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)})`,\n    transition: theme.transitions.create(\"width\"),\n    width: \"100%\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"20ch\",\n    },\n  },\n}));\n\nexport default function Header(props) {\n  const classes = useStyles();\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const onClickAppBar = () => {\n    // props.reset();\n    history.push(\"/\");\n  };\n\n  const onClickPlaylist = () => {\n    handleClose();\n    history.push(`/user/${props.user.uid}/playlist`);\n  };\n\n  const signOut = () => {\n    setAnchorEl(null);\n    props.signOut();\n  };\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Box pr={2} className={classes.logo} onClick={onClickAppBar}>\n            <img src={`${BASE_URL}/favicon.svg`} height=\"25\" alt=\"Logo\" />\n          </Box>\n          <StyledEngineProvider injectFirst>\n            <ThemeProvider theme={themeLogo}>\n              <Typography\n                className={classes.title}\n                variant=\"h5\"\n                noWrap\n                onClick={onClickAppBar}\n              >\n                {APP_NAME}\n              </Typography>\n            </ThemeProvider>\n          </StyledEngineProvider>\n          <div className={classes.grow} />\n\n          {!props.isSignedIn && (\n            <Box px={1}>\n              <Button color=\"secondary\" onClick={props.setSignInDialogOpen}>\n                <Typography style={{ fontWeight: 600 }}>Sign In</Typography>\n              </Button>\n            </Box>\n          )}\n          {props.isSignedIn && (\n            <Box px={1}>\n              <IconButton onClick={handleClick}>\n                <Avatar\n                  alt={props.user.displayName}\n                  src={props.user.photoURL}\n                />\n              </IconButton>\n              {/* <Typography display=\"inline\">{props.user.displayName}</Typography> */}\n            </Box>\n          )}\n\n          {/* <Menu\n            id=\"simple-menu\"\n            anchorEl={anchorEl}\n            getContentAnchorEl={null}\n            anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n            transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n            keepMounted\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            className={classes.menu}\n          > */}\n          <Menu\n            anchorEl={anchorEl}\n            open={Boolean(anchorEl)}\n            onClose={handleClose}\n            PaperProps={{\n              elevation: 0,\n              sx: {\n                overflow: \"visible\",\n                filter: \"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))\",\n                mt: 1.5,\n                \"& .MuiAvatar-root\": {\n                  width: 32,\n                  height: 32,\n                  ml: -0.5,\n                  mr: 1,\n                },\n                \"&:before\": {\n                  content: '\"\"',\n                  display: \"block\",\n                  position: \"absolute\",\n                  top: 0,\n                  right: 14,\n                  width: 10,\n                  height: 10,\n                  bgcolor: \"background.paper\",\n                  transform: \"translateY(-50%) rotate(45deg)\",\n                  zIndex: 0,\n                },\n              },\n            }}\n            transformOrigin={{ horizontal: \"right\", vertical: \"top\" }}\n            anchorOrigin={{ horizontal: \"right\", vertical: \"bottom\" }}\n          >\n            <MenuItem>\n              <Grid\n                container\n                alignContent=\"center\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                <Grid item className={classes.menu}>\n                  <Box p={2}>\n                    {/* <Avatar alt={props.user.displayName} src={props.user.photoURL}/> */}\n                    <img\n                      alt={props.user.displayName}\n                      src={props.user.photoURL}\n                    />\n                    <Typography variant=\"h6\">\n                      {props.user.displayName}\n                    </Typography>\n                    <Typography color=\"textSecondary\">\n                      {props.user.email}\n                    </Typography>\n                  </Box>\n                </Grid>\n              </Grid>\n            </MenuItem>\n            <Divider />\n            <MenuItem onClick={onClickPlaylist}>\n              <ListItemIcon>\n                <PlaylistPlayIcon fontSize=\"small\" />\n              </ListItemIcon>\n              Playlist\n            </MenuItem>\n            <Divider />\n            <MenuItem>\n              <Grid\n                container\n                alignContent=\"center\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n              >\n                <Grid item>\n                  <Box p={2}>\n                    <Button\n                      variant=\"outlined\"\n                      color=\"primary\"\n                      onClick={signOut}\n                    >\n                      <Logout fontSize=\"small\" />\n                      Sign Out\n                    </Button>\n                  </Box>\n                </Grid>\n              </Grid>\n            </MenuItem>\n          </Menu>\n          {/* <Box px={1}>\n                    <Button color=\"secondary\" variant=\"outlined\">\n                        <Typography style={{ fontWeight: 600 }} color=\"info\">Sign Up</Typography>\n                    </Button>\n                </Box> */}\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { useLocation } from \"react-router-dom\";\nimport { Grid, Card, Typography, Box } from \"@mui/material\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faDrum,\n  faGuitar,\n  faHeadphones,\n  faCompactDisc,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { KEY_DICT, MODE_DICT } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  image: {\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 10,\n    },\n    shadowOpacity: 0.12,\n    shadowRadius: 60,\n  },\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function SongDetail() {\n  const location = useLocation();\n  const classes = useStyles();\n\n  const data = location.state.data;\n  return (\n    <div>\n      <Box display=\"flex\" justifyContent=\"center\">\n        <Box width={0.6} justifyContent=\"center\" p={5}>\n          <Grid container spacing={4}>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Box width=\"100%\">\n                <img\n                  src={data.image_url}\n                  width=\"100%\"\n                  style={{ maxWidth: \"300px\" }}\n                  alt={data.song_name}\n                />\n              </Box>\n              <Typography variant=\"h6\">{data.album_name}</Typography>\n            </Grid>\n            <Grid item xs={12} sm={6} className={classes.root}>\n              <Typography variant=\"h5\" color=\"textSecondary\">\n                {data.artist}\n              </Typography>\n              <Typography variant=\"h4\">{data.song_name}</Typography>\n              <Box py={3}>\n                <audio controls src={data.preview_url}>\n                  Your browser does not support the\n                  <code>audio</code> element.\n                </audio>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faDrum} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      BPM\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{Math.round(data.bpm)}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faGuitar} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      KEY\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">\n                    {KEY_DICT[data.key]} {MODE_DICT[data.mode]}\n                  </Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faHeadphones} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      Danceability\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{data.danceability}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n            <Grid item xs={12} sm={6} align=\"center\">\n              <Card>\n                <Box p={3}>\n                  <FontAwesomeIcon size=\"3x\" icon={faCompactDisc} />\n                  <Box p={1}>\n                    <Typography variant=\"h5\" color=\"textSecondary\">\n                      Energy\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"h4\">{data.energy}</Typography>\n                </Box>\n              </Card>\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import React from \"react\";\nimport GitHubIcon from \"@mui/icons-material/GitHub\";\nimport {\n  Box,\n  Grid,\n  IconButton,\n  ThemeProvider,\n  StyledEngineProvider,\n  Typography,\n} from \"@mui/material\";\n\nimport makeStyles from \"@mui/styles/makeStyles\";\n\nimport { themeLogo } from \"./App\";\nimport { APP_NAME, BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: \"#f0f3f4\",\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  footerMain: {\n    bottom: 0,\n  },\n}));\n\nexport default function Footer() {\n  const classes = useStyles();\n  function onClickGithub() {\n    const url = \"https://github.com/ooyamatakehisa/bpm-searcher\";\n    window.open(url, \"_blank\");\n  }\n  return (\n    <div className={classes.footerMain}>\n      <Box color=\"primary\" className={classes.footer}>\n        <Box p={10}>\n          <Grid\n            container\n            direction=\"column\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            spacing={2}\n          >\n            <Grid item xs={12}>\n              <img src={`${BASE_URL}/favicon.svg`} height=\"25\" alt=\"logo\" />\n            </Grid>\n            <Grid item xs={12}>\n              <StyledEngineProvider injectFirst>\n                <ThemeProvider theme={themeLogo}>\n                  <Typography\n                    variant=\"h5\"\n                    noWrap\n                    color=\"primary\"\n                    display=\"inline\"\n                  >\n                    {APP_NAME}\n                  </Typography>\n                </ThemeProvider>\n              </StyledEngineProvider>\n            </Grid>\n            <Grid item xs={12}>\n              <IconButton\n                aria-label=\"show 17 new notifications\"\n                color=\"inherit\"\n                onClick={onClickGithub}\n                size=\"large\"\n              >\n                <GitHubIcon />\n              </IconButton>\n            </Grid>\n          </Grid>\n          <Box p={2}>\n            <Typography>© Takehisa Oyama. All rights reserved.</Typography>\n          </Box>\n        </Box>\n      </Box>\n    </div>\n  );\n}\n","import React from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase\";\n\n// Configure Firebase.\nconst config = {\n  apiKey: \"AIzaSyAmi32aEPLYTvsGmgT5DWxGHJGhs19KBhY\",\n  authDomain: \"bpm-searcher.firebaseapp.com\",\n  projectId: \"bpm-searcher\",\n  storageBucket: \"bpm-searcher.appspot.com\",\n  messagingSenderId: \"380948537710\",\n  appId: \"1:380948537710:web:37f78017daaee0abe3617f\",\n};\nfirebase.initializeApp(config);\n\n// Configure FirebaseUI.\nconst uiConfig = {\n  // Popup signin flow rather than redirect flow.\n  // signInFlow: 'redirect',\n  signInFlow: \"popup\",\n  // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n  signInSuccessUrl: \"/\",\n  // We will display Google and Facebook as auth providers.\n  signInOptions: [\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n    firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n  ],\n};\n\nexport default function SignIn() {\n  return (\n    <div>\n      <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Button,\n  Box,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@mui/material\";\nimport SignIn from \"./SignIn\";\nimport { APP_NAME } from \"./constant\";\n\nexport default function SignInDialog({ signInDialogOpen, closeSignInDialog }) {\n  return (\n    <Dialog\n      open={signInDialogOpen}\n      onClose={closeSignInDialog}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Sign In / Sign Up</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {APP_NAME} uses the Firebase Authentication as login service and does\n          not have any user information on its server.\n        </DialogContentText>\n        <Box p={2}>\n          <SignIn />\n        </Box>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={closeSignInDialog} color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","import React from \"react\";\nimport { Grid, Typography, Box } from \"@mui/material\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMicrophoneAltSlash } from \"@fortawesome/free-solid-svg-icons\";\n\nexport default function NoResult({ searchValue }) {\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box p={6}>\n        <FontAwesomeIcon size=\"5x\" icon={faMicrophoneAltSlash} />\n      </Box>\n      <Box pb={10}>\n        <Typography variant=\"h6\">\n          No results found for <b>{searchValue}</b>\n        </Typography>\n      </Box>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { CircularProgress, Grid, Box } from \"@mui/material\";\n\nexport default function Loading() {\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box p={20}>\n        <CircularProgress />\n      </Box>\n    </Grid>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { Box, Paper, IconButton, InputBase, Grid } from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: \"2px 4px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"65vw\",\n    height: 55,\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    height: 28,\n    margin: 4,\n  },\n}));\n\nexport default function SearchBox() {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    if (query.get(\"search\") !== null) {\n      setInputValue(query.get(\"search\"));\n    }\n  }, [location]);\n\n  const handleSearchInputChanges = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  const getBpms = () => {\n    history.push({\n      pathname: \"/track\",\n      search: `?search=${inputValue}`,\n    });\n  };\n\n  return (\n    <Grid\n      container\n      spacing={0}\n      direction=\"column\"\n      alignItems=\"center\"\n      justifyContent=\"center\"\n    >\n      <Box p={4}>\n        <Paper className={classes.root}>\n          <InputBase\n            className={classes.input}\n            placeholder=\"Search Songs or Artists\"\n            inputProps={{ \"aria-label\": \"search songs or artists\" }}\n            value={inputValue}\n            onChange={handleSearchInputChanges}\n            onKeyPress={(e) => {\n              // e.keyCodeは常に0になる\n              if (e.key === \"Enter\") {\n                // エンターキー押下時の処理\n                getBpms();\n              }\n            }}\n          />\n          <IconButton\n            type=\"submit\"\n            className={classes.iconButton}\n            onClick={getBpms}\n            aria-label=\"search\"\n            size=\"large\"\n          >\n            <SearchIcon />\n          </IconButton>\n        </Paper>\n      </Box>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { IconButton, Snackbar } from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\n\nexport default function MySnackbar({ snackbarOpen, setSnackbarOpen, message }) {\n  const closeSnackbar = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSnackbarOpen(false);\n  };\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: \"bottom\",\n        horizontal: \"left\",\n      }}\n      open={snackbarOpen}\n      autoHideDuration={4000}\n      onClose={closeSnackbar}\n      message={message}\n      action={\n        <React.Fragment>\n          <IconButton\n            size=\"small\"\n            aria-label=\"close\"\n            color=\"inherit\"\n            onClick={closeSnackbar}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n        </React.Fragment>\n      }\n    />\n  );\n}\n","import { React, useState, useEffect } from \"react\";\nimport SaveAltIcon from \"@mui/icons-material/SaveAlt\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Divider,\n  IconButton,\n  Menu,\n  MenuItem,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\n\nimport Snackbar from \"./MySnackbar\";\nimport { API_BASE_URL } from \"./constant\";\n\nconst useStyles = makeStyles({\n  row: {\n    cursor: \"pointer\",\n  },\n});\nconst ITEM_HEIGHT = 100;\n\nexport default function SearchBox({\n  isSignedIn,\n  setSignInDialogOpen,\n  result,\n  ranking,\n  title,\n}) {\n  const history = useHistory();\n  const classes = useStyles();\n  const [openCreatePlaylistDialog, setOpenCreatePlaylistDialog] =\n    useState(false);\n  const [playlistInfos, setPlaylistInfos] = useState([]);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [clickedTrack, setClickedTrack] = useState({});\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\");\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n  const [newPlaylistName, setNewPlaylistName] = useState(\"\");\n  const [newPlaylistDescription, setNewPlaylistDescription] = useState(\"\");\n\n  const handleClick = (track) => (event) => {\n    if (isSignedIn) {\n      setClickedTrack(track);\n      setAnchorEl(event.currentTarget);\n    } else {\n      setSignInDialogOpen();\n      // signIn();\n    }\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const newCreatePlaylistDialog = () => {\n    setOpenCreatePlaylistDialog(true);\n    handleClose();\n  };\n\n  const handleLink = (path, row) => {\n    history.push(`/track/${path}`, { data: row });\n  };\n\n  const handleTextfiledChange = (set) => (event) => {\n    set(event.target.value);\n  };\n\n  const createPlaylistAndUpdateTrack = () => {\n    (async () => {\n      setOpenCreatePlaylistDialog(false);\n      const user = await firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      let body = { name: newPlaylistName, desc: newPlaylistDescription };\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      try {\n        const data = await axios.post(\n          `${API_BASE_URL}/user/${user.uid}/playlist`,\n          body,\n          config\n        );\n        const playlistInfo = data.data;\n        setPlaylistInfos((prev) => {\n          prev.push(playlistInfo);\n          console.log(prev);\n          return prev;\n        });\n        setNewPlaylistName(\"\");\n        setNewPlaylistDescription(\"\");\n        const playlist_id = playlistInfo.id;\n        body = { kind: \"track\", spotify_id: clickedTrack.spotify_id };\n        axios\n          .put(\n            `${API_BASE_URL}/user/${user.uid}/playlist/${playlist_id}`,\n            body,\n            config\n          )\n          .then((data) => {\n            setSnackbarOpen(true);\n            setSnackbarMessage(\n              `\"${clickedTrack.song_name} (${clickedTrack.artist})\" is added to your playlist !`\n            );\n          })\n          .catch((err) => console.log(err));\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  };\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(\n            `${API_BASE_URL}/user/${user.uid}/playlist`,\n            config\n          )\n          .then((data) => {\n            setPlaylistInfos(data.data);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        // setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn]);\n\n  const saveBpm = (spotify_id, row, playlist_id) => {\n    handleClose();\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const body = { kind: \"track\", spotify_id: spotify_id };\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      axios\n        .put(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlist_id}`,\n          body,\n          config\n        )\n        .then((data) => {\n          setSnackbarOpen(true);\n          setSnackbarMessage(\n            `\"${row.song_name} (${row.artist})\" is added to your playlist !`\n          );\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      <Box width={0.8} justifyContent=\"center\">\n        <Box m={2}>\n          <Typography variant=\"h5\">{title}</Typography>\n        </Box>\n        <TableContainer>\n          <Table aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"center\">\n                  <Typography variant=\"subtitle1\" gutterBottom>\n                    SONG\n                  </Typography>\n                </TableCell>\n                {ranking && (\n                  <TableCell align=\"center\">\n                    <Typography variant=\"subtitle1\" gutterBottom></Typography>\n                  </TableCell>\n                )}\n                <TableCell></TableCell>\n                <TableCell width=\"15%\" align=\"center\">\n                  <Typography variant=\"subtitle1\" gutterBottom>\n                    BPM\n                  </Typography>\n                </TableCell>\n                <TableCell width=\"15%\" align=\"center\">\n                  SAVE\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {result.map((row, index) => (\n                <TableRow\n                  key={row.spotify_id}\n                  className={classes.row}\n                  hover={true}\n                >\n                  <TableCell\n                    align=\"center\"\n                    onClick={() => handleLink(row.spotify_id, row)}\n                  >\n                    <img src={row.image_url} height=\"100\" alt={row.song_name} />\n                  </TableCell>\n                  {ranking && (\n                    <TableCell\n                      align=\"center\"\n                      onClick={() => handleLink(row.spotify_id, row)}\n                    >\n                      <Typography variant=\"h6\" gutterBottom>\n                        {index + 1}\n                      </Typography>\n                    </TableCell>\n                  )}\n                  <TableCell onClick={() => handleLink(row.spotify_id, row)}>\n                    <Typography variant=\"h6\">\n                      <Box fontWeight=\"fontWeightMedium\">{row.song_name}</Box>\n                    </Typography>\n                    <div>{row.artist}</div>\n                  </TableCell>\n                  <TableCell\n                    align=\"center\"\n                    onClick={() => handleLink(row.spotify_id, row)}\n                  >\n                    <Typography variant=\"h5\" gutterBottom>\n                      {Math.round(row.bpm)}\n                    </Typography>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      onClick={handleClick(row)}\n                      size=\"large\"\n                      aria-controls=\"basic-menu\"\n                      aria-haspopup=\"true\"\n                      aria-expanded={open ? \"true\" : undefined}\n                    >\n                      <SaveAltIcon color=\"primary\" fontSize=\"medium\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </Box>\n      <Menu\n        id=\"long-menu\"\n        MenuListProps={{\n          \"aria-labelledby\": \"long-button\",\n        }}\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        PaperProps={{\n          style: {\n            maxHeight: ITEM_HEIGHT * 4.5,\n            width: \"20ch\",\n          },\n        }}\n      >\n        <MenuItem\n          key=\"create playlist\"\n          onClick={() => newCreatePlaylistDialog()}\n        >\n          Create a New Playlist\n        </MenuItem>\n        {playlistInfos.length !== 0 && <Divider />}\n        {playlistInfos.map((playlist) => (\n          <MenuItem\n            key={playlist.id}\n            onClick={() =>\n              saveBpm(clickedTrack.spotify_id, clickedTrack, playlist.id)\n            }\n          >\n            {playlist.name}\n          </MenuItem>\n        ))}\n      </Menu>\n      <Snackbar\n        snackbarOpen={snackbarOpen}\n        setSnackbarOpen={setSnackbarOpen}\n        message={snackbarMessage}\n      />\n      <Dialog\n        open={openCreatePlaylistDialog}\n        onClose={() => setOpenCreatePlaylistDialog(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Create a New Playlist and Add the Song\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            <Box py={1}>\n              <TextField\n                id=\"outlined-basic\"\n                label=\"Name\"\n                variant=\"outlined\"\n                value={newPlaylistName}\n                onChange={handleTextfiledChange(setNewPlaylistName)}\n                required={true}\n                fullWidth\n              />\n            </Box>\n            <Box py={1}>\n              <TextField\n                id=\"outlined-multiline-static\"\n                label=\"Description\"\n                value={newPlaylistDescription}\n                onChange={handleTextfiledChange(setNewPlaylistDescription)}\n                multiline\n                fullWidth\n                rows={4}\n              />\n            </Box>\n            You can check the playlist by clicking the icon button in the upper\n            right corner.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={createPlaylistAndUpdateTrack} autoFocus>\n            COMPLETE\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nimport NoResult from \"./NoResult\";\nimport Loading from \"./Loading\";\nimport SearchBox from \"./SearchBox\";\nimport SearchResult from \"./SearchResult\";\nimport { API_BASE_URL } from \"./constant\";\n\nexport default function Content({ isSignedIn, setSignInDialogOpen }) {\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [result, setResult] = useState([]);\n  const [isResponded, setIsResponded] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const query = new URLSearchParams(location.search);\n    setIsResponded(false);\n    setSearchValue(query.get(\"search\"));\n    const requestOptions = {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" },\n    };\n\n    fetch(`${API_BASE_URL}/track?search=${query.get(\"search\")}`, requestOptions)\n      .then((response) => {\n        if (response.status === 404) {\n          setResult([]);\n          setIsResponded(true);\n          throw new Error(response.statusText);\n        } else {\n          return response.json();\n        }\n      })\n      .then((data) => {\n        setResult(data);\n        setIsResponded(true);\n      })\n      .catch((err) => console.log(err));\n  }, [location]);\n\n  return (\n    <div>\n      <SearchBox />\n      {!isResponded && <Loading />}\n      {isResponded && result.length !== 0 && (\n        <SearchResult\n          isSignedIn={isSignedIn}\n          setSignInDialogOpen={setSignInDialogOpen}\n          result={result}\n          ranking={false}\n          title={`Search Results for \"${searchValue}\"`}\n        />\n      )}\n      {isResponded && result.length === 0 && (\n        <NoResult searchValue={searchValue} />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport Loading from \"./Loading\";\nimport SearchBox from \"./SearchBox\";\nimport SearchResult from \"./SearchResult\";\nimport { API_BASE_URL } from \"./constant\";\n\nexport default function Content({ isSignedIn, setSignInDialogOpen }) {\n  const [result, setResult] = useState([]);\n\n  useEffect(() => {\n    fetch(`${API_BASE_URL}/ranking`)\n      .then((response) => response.json())\n      .then((data) => {\n        setResult(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  return (\n    <div>\n      <SearchBox />\n      {result.length === 0 && <Loading />}\n      {result.length !== 0 && (\n        <SearchResult\n          isSignedIn={isSignedIn}\n          setSignInDialogOpen={setSignInDialogOpen}\n          result={result}\n          ranking={true}\n          title={\"Spotify Top Chart\"}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport firebase from \"firebase\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CardHeader,\n  CardMedia,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Divider,\n  IconButton,\n  Typography,\n  Grid,\n} from \"@mui/material\";\nimport { DeleteSweep } from \"@mui/icons-material\";\n\nimport Snackbar from \"./MySnackbar\";\nimport { API_BASE_URL } from \"./constant\";\nimport Loading from \"./Loading\";\n\nexport default function Playlist({ isSignedIn, setSignInDialogOpen }) {\n  const [playlistInfos, setPlaylistInfos] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [snackbarMessage, setSnackbarMessage] = React.useState(\"\");\n  const [playlistIdxForDeletion, setPlaylistIdxForDeletion] =\n    React.useState(null);\n  const [openDeletePlaylistDialog, setOpenDeletePlaylistDialog] =\n    useState(false);\n  const history = useHistory();\n  const { uid } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(`${API_BASE_URL}/user/${user.uid}/playlist`, config)\n          .then((data) => {\n            setPlaylistInfos(data.data);\n            setIsLoading(false);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn, setSignInDialogOpen, uid]);\n\n  const openDeleteDialog = (index) => (e) => {\n    e.stopPropagation();\n    setOpenDeletePlaylistDialog(true);\n    setPlaylistIdxForDeletion(index);\n  };\n\n  const deletePlaylist = () => {\n    const playlistInfo = playlistInfos[playlistIdxForDeletion];\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      axios\n        .delete(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistInfo.id}`,\n          config\n        )\n        .then((data) => {\n          playlistInfos.splice(playlistIdxForDeletion, 1);\n          setPlaylistInfos((prev) => {\n            const temp = [...prev];\n            return temp;\n          });\n\n          setSnackbarOpen(true);\n          setSnackbarMessage(\n            `\"${playlistInfo.name}\" is romoved from your playlist list !`\n          );\n          setOpenDeletePlaylistDialog(false);\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  const onClickPlaylist = (row) => () => {\n    history.push(`/user/${uid}/playlist/${row.id}`);\n  };\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      {isLoading && <Loading />}\n      {!isLoading && (\n        <Box width={0.8} py={10} justifyContent=\"center\">\n          <Grid\n            container\n            direction=\"row\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            spacing={2}\n            width={1}\n          >\n            {playlistInfos.map((row, index) => (\n              <Grid item xs={3} key={row.id}>\n                <Card\n                  onClick={onClickPlaylist(row)}\n                  style={{ cursor: \"pointer\" }}\n                >\n                  <CardHeader\n                    action={\n                      <IconButton\n                        aria-label=\"settings\"\n                        onClick={openDeleteDialog(index)}\n                      >\n                        <DeleteSweep />\n                      </IconButton>\n                    }\n                    title={row.name}\n                    subheader={`${row.num_tracks} songs`}\n                  />\n                  {/* {row.image_url == null && <Divider/>} */}\n                  {row.image_url != null && (\n                    <CardMedia\n                      component=\"img\"\n                      // height=\"194\"\n                      image={row.image_url}\n                      alt={row.name}\n                    />\n                  )}\n                  <CardContent>\n                    <Typography variant=\"body1\" color=\"text.secondary\">\n                      {row.desc}\n                    </Typography>\n                    <Divider />\n\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      <br />\n                      Created At\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      {row.created_at}\n                    </Typography>\n                  </CardContent>\n                  {/* <CardActions>\n                  <Button size=\"small\">Share</Button>\n                  <Button size=\"small\">Learn More</Button>\n                </CardActions> */}\n                </Card>\n              </Grid>\n            ))}\n            {/* <Grid item xs={3}></Grid>\n        <Grid item xs={3}></Grid>\n        <Grid item xs={3}></Grid> */}\n            {/* {playlist.length !== 0 && (\n          <DraggableTable playlist={playlist} playlistInfo={playlistInfo} />\n          )}\n        {playlist.length == 0 && <Waiting />} */}\n          </Grid>\n        </Box>\n      )}\n      <Snackbar\n        snackbarOpen={snackbarOpen}\n        setSnackbarOpen={setSnackbarOpen}\n        message={snackbarMessage}\n      />\n      <Dialog\n        open={openDeletePlaylistDialog}\n        onClose={() => setOpenDeletePlaylistDialog(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Are you sure you want to delete this playlist ?\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            All tracks and infomation of this playlist will be permanently\n            deleted.\n            <br />\n            Are you sure you want to delete this playlist ?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={deletePlaylist} autoFocus>\n            DELETE\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport makeStyles from \"@mui/styles/makeStyles\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport {\n  Box,\n  IconButton,\n  Grid,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Typography,\n  Divider,\n} from \"@mui/material\";\nimport { Reorder, DeleteSweep } from \"@mui/icons-material\";\nimport firebase from \"firebase\";\nimport axios from \"axios\";\n\nimport Snackbar from \"./MySnackbar\";\nimport { API_BASE_URL } from \"./constant\";\nimport Loading from \"./Loading\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n  },\n}));\n\nexport default function DraggableTable({ isSignedIn, setSignInDialogOpen }) {\n  // cache the items provided via props in state for purposes of this demo\n  const [playlistTracks, setplaylistTracks] = useState([]);\n  const [playlistInfo, setPlaylistInfo] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [snackbarMessage, setSnackbarMessage] = React.useState(\"\");\n  const history = useHistory();\n  const classes = useStyles();\n  let { playlistId } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      if (isSignedIn) {\n        const user = await firebase.auth().currentUser;\n        const id_token = await user.getIdToken(false);\n        const config = {\n          headers: { Authorization: `Bearer ${id_token}` },\n        };\n        axios\n          .get(\n            `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}`,\n            config\n          )\n          .then((data) => {\n            setplaylistTracks(data.data.playlist_tracks);\n            setPlaylistInfo(data.data.playlist_info);\n            setIsLoading(false);\n          })\n          .catch((err) => console.log(err));\n      } else {\n        setSignInDialogOpen();\n      }\n    })();\n  }, [isSignedIn, playlistId, setSignInDialogOpen]);\n\n  const deleteTrack = (playlistTrack, index) => {\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      axios\n        .delete(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}/track/${playlistTrack.id}`,\n          config\n        )\n        .then((data) => {\n          playlistTracks.splice(index, 1);\n          setplaylistTracks((prev) => {\n            const temp = [...prev];\n            return temp;\n          });\n          setPlaylistInfo((prev) => {\n            const temp = prev;\n            if (playlistTracks.length > 0) {\n              temp.image_url = playlistTracks[0].track.image_url;\n            } else {\n              temp.image_url = null;\n            }\n            return temp;\n          });\n          setSnackbarOpen(true);\n          setSnackbarMessage(\n            `\"${playlistTrack.track.song_name} (${playlistTrack.track.artist})\" is romoved from your playlist !`\n          );\n        })\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  // normally one would commit/save any order changes via an api call here...\n  const handleDragEnd = (result, provided) => {\n    if (!result.destination) {\n      return;\n    }\n\n    if (result.destination.index === result.source.index) {\n      return;\n    }\n\n    setplaylistTracks((prev) => {\n      const temp = [...prev];\n      const sourceIdx = result.source.index;\n      const destinationIdx = result.destination.index;\n      temp.splice(sourceIdx, 1);\n      temp.splice(destinationIdx, 0, prev[sourceIdx]);\n\n      setPlaylistInfo((prev) => {\n        prev.image_url = temp[0].track.image_url;\n        return prev;\n      });\n\n      return temp;\n    });\n\n    (async () => {\n      const user = firebase.auth().currentUser;\n      const id_token = await user.getIdToken(false);\n      const config = {\n        headers: { Authorization: `Bearer ${id_token}` },\n      };\n      const body = {\n        orderFrom: result.source.index + 1,\n        orderTo: result.destination.index + 1,\n      };\n      axios\n        .patch(\n          `${API_BASE_URL}/user/${user.uid}/playlist/${playlistId}/track`,\n          body,\n          config\n        )\n        .catch((err) => console.log(err));\n    })();\n  };\n\n  const datetime2date = (datetime) => {\n    if (datetime == null) return \"\";\n    const datetimes = datetime.split(\" \");\n    return datetimes.slice(0, 4).join(\" \");\n  };\n\n  const handleLink = (path, row) => {\n    history.push(`/track/${path}`, { data: row });\n  };\n\n  return (\n    <Box width={1} display=\"flex\" justifyContent=\"center\">\n      {isLoading && <Loading />}\n      {!isLoading && (\n        <Box width={0.8} justifyContent=\"center\" p={5}>\n          <Grid container spacing={8}>\n            <Grid item xs={12} sm={3} align=\"center\">\n              <Grid container direction=\"column\" spacing={4}>\n                <Grid item xs={12} sm={6} align=\"center\">\n                  <Box width=\"100%\">\n                    <img\n                      src={playlistInfo.image_url}\n                      width=\"100%\"\n                      style={{ maxWidth: \"300px\" }}\n                      alt={playlistInfo.name}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={12} sm={6} className={classes.root}>\n                  <Typography variant=\"h4\">{playlistInfo.name}</Typography>\n                  <Typography variant=\"h5\" color=\"textSecondary\">\n                    {playlistInfo.desc}\n                  </Typography>\n                  <Box py={2}>\n                    <Divider />\n                  </Box>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {playlistInfo.num_tracks} songs\n                    <br />\n                    Created At {datetime2date(playlistInfo.created_at)}\n                    <br />\n                    Updated At {datetime2date(playlistInfo.updated_at)}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12} sm={9} align=\"center\">\n              <TableContainer>\n                <Table>\n                  <TableHead>\n                    <TableRow>\n                      <TableCell align=\"center\"></TableCell>\n                      <TableCell align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          SONG\n                        </Typography>\n                      </TableCell>\n                      <TableCell align=\"center\">\n                        <Typography\n                          variant=\"subtitle1\"\n                          gutterBottom\n                        ></Typography>\n                      </TableCell>\n                      <TableCell></TableCell>\n                      <TableCell width=\"15%\" align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          BPM\n                        </Typography>\n                      </TableCell>\n                      <TableCell width=\"15%\" align=\"center\">\n                        <Typography variant=\"subtitle1\" gutterBottom>\n                          DELETE\n                        </Typography>\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <DragDropContext onDragEnd={handleDragEnd}>\n                    <Droppable droppableId=\"droppable\" direction=\"vertical\">\n                      {(droppableProvided) => (\n                        <TableBody\n                          ref={droppableProvided.innerRef}\n                          {...droppableProvided.droppableProps}\n                        >\n                          {playlistTracks.map((plyalistTrack, index) => (\n                            <Draggable\n                              key={plyalistTrack.id}\n                              draggableId={plyalistTrack.id}\n                              index={index}\n                            >\n                              {(draggableProvided, snapshot) => {\n                                return (\n                                  <TableRow\n                                    hover={true}\n                                    ref={draggableProvided.innerRef}\n                                    {...draggableProvided.draggableProps}\n                                    style={{\n                                      ...draggableProvided.draggableProps.style,\n                                      cursor: \"pointer\",\n                                    }}\n                                  >\n                                    <TableCell align=\"center\">\n                                      <div\n                                        {...draggableProvided.dragHandleProps}\n                                      >\n                                        <Reorder />\n                                      </div>\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"center\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <img\n                                        src={plyalistTrack.track.image_url}\n                                        height=\"100\"\n                                        alt={plyalistTrack.track.song_name}\n                                      />\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"center\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <Typography variant=\"h6\" gutterBottom>\n                                        {index + 1}\n                                      </Typography>\n                                    </TableCell>\n                                    <TableCell\n                                      align=\"left\"\n                                      onClick={() =>\n                                        handleLink(\n                                          plyalistTrack.track.spotify_id,\n                                          plyalistTrack.track\n                                        )\n                                      }\n                                    >\n                                      <Typography variant=\"h6\">\n                                        <Box fontWeight=\"fontWeightMedium\">\n                                          {plyalistTrack.track.song_name}\n                                        </Box>\n                                      </Typography>\n                                      <div>{plyalistTrack.track.artist}</div>\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                      <Typography variant=\"h5\" gutterBottom>\n                                        {Math.round(plyalistTrack.track.bpm)}\n                                      </Typography>\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                      <IconButton\n                                        onClick={() =>\n                                          deleteTrack(plyalistTrack, index)\n                                        }\n                                      >\n                                        <DeleteSweep />\n                                      </IconButton>\n                                    </TableCell>\n                                  </TableRow>\n                                );\n                              }}\n                            </Draggable>\n                          ))}\n                          {droppableProvided.placeholder}\n                        </TableBody>\n                      )}\n                    </Droppable>\n                  </DragDropContext>\n                </Table>\n              </TableContainer>\n            </Grid>\n          </Grid>\n        </Box>\n      )}\n      <Snackbar\n        snackbarOpen={snackbarOpen}\n        setSnackbarOpen={setSnackbarOpen}\n        message={snackbarMessage}\n      />\n    </Box>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport {\n  createTheme,\n  ThemeProvider,\n  StyledEngineProvider,\n} from \"@mui/material/styles\";\nimport { makeStyles } from \"@mui/styles\";\nimport firebase from \"firebase\";\n\nimport Header from \"./Header\";\nimport SongDetail from \"./SongDetail\";\nimport Footer from \"./Footer\";\nimport SignInDialog from \"./SignInDialog\";\nimport Content from \"./Content\";\nimport Ranking from \"./Ranking\";\nimport Playlist from \"./Playlist\";\nimport MySnackbar from \"./MySnackbar\";\nimport DraggableTable from \"./DraggableTable\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#da0047\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      main: \"#ffffff\",\n      contrastText: \"#a0a0a0\",\n    },\n    textSecondary: {\n      main: \"#a0a0a0\",\n      contrastText: \"#a0a0a0\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Lato\", \"Raleway\"].join(\",\"),\n  },\n});\n\nexport const themeLogo = createTheme({\n  palette: {\n    primary: {\n      main: \"#da0047\",\n      contrastText: \"#fff\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Bowlby One SC\"].join(\",\"),\n  },\n});\n\nconst useStyles = makeStyles((theme) => ({\n  pageContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    minHeight: \"100vh\",\n\n  },\n  contentWrap: {\n    flex: 1\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [isSignedIn, setIsSignedIn] = useState(false);\n  const [user, setUser] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [signInDialogOpen, setSignInDialogOpen] = React.useState(false);\n\n  const signOut = () => {\n    setSnackbarOpen(true);\n    firebase.auth().signOut();\n  };\n\n  const closeSignInDialog = () => {\n    setSignInDialogOpen(false);\n  };\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        setSnackbarOpen(true);\n        setIsSignedIn(true);\n        setUser(user);\n      } else {\n        setIsSignedIn(false);\n        setUser({});\n      }\n    });\n  }, []);\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <div className={classes.pageContainer}>\n          <div className={classes.contentWrap}>\n            <Router>\n              <Header\n                // reset={reset}\n                isSignedIn={isSignedIn}\n                user={user}\n                setSignInDialogOpen={() => setSignInDialogOpen(true)}\n                signOut={signOut}\n              />\n              <Switch>\n                <Route path=\"/\" exact>\n                  <Ranking\n                    isSignedIn={isSignedIn}\n                    setSignInDialogOpen={() => setSignInDialogOpen(true)}\n                  />\n                </Route>\n                <Route path=\"/track\" exact>\n                  <Content\n                    isSignedIn={isSignedIn}\n                    setSignInDialogOpen={() => setSignInDialogOpen(true)}\n                  />\n                </Route>\n                <Route path=\"/user/:uid/playlist\" exact>\n                  <Playlist\n                    isSignedIn={isSignedIn}\n                    setSignInDialogOpen={() => setSignInDialogOpen(true)}\n                  />\n                </Route>\n                <Route path=\"/user/:uid/playlist/:playlistId\">\n                  <DraggableTable\n                    isSignedIn={isSignedIn}\n                    setSignInDialogOpen={() => setSignInDialogOpen(true)}\n                  />\n                </Route>\n                <Route path=\"/track/:spotify_id\">\n                  <SongDetail />\n                </Route>\n              </Switch>\n            </Router>\n          </div>\n          <Footer />\n          <MySnackbar\n            snackbarOpen={snackbarOpen}\n            setSnackbarOpen={setSnackbarOpen}\n            message={isSignedIn ? \"Sign In !\" : \"Sign Out !\"}\n          />\n          <SignInDialog\n            signInDialogOpen={signInDialogOpen}\n            closeSignInDialog={closeSignInDialog}\n          />\n        </div>\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}